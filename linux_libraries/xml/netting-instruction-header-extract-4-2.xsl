<?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:fpml="http://www.fpml.org/2005/FpML-4-2" version="1.0" exclude-result-prefixes="fpml"><xsl:strip-space elements="*"/><xsl:variable name="swHeader" select="/fpml:NettingInstruction/fpml:swHeader"/><xsl:variable name="partyB" select="/fpml:NettingInstruction/fpml:swTermination[1]/fpml:swLegalEntity |                     /fpml:NettingInstruction/fpml:swNewPosition[1]/fpml:FpML/fpml:party[@id = 'partyB']"/><xsl:template name="headerData"><xsl:for-each select="$swHeader"><xsl:for-each select="fpml:correlationId"><CorrelationId><xsl:value-of select="."/></CorrelationId></xsl:for-each><xsl:for-each select="fpml:swApiBatchId"><ApiBatchId><xsl:value-of select="."/></ApiBatchId></xsl:for-each><xsl:for-each select="fpml:swNettingBatchId"><NettingBatchId><xsl:value-of select="."/></NettingBatchId></xsl:for-each><xsl:for-each select="fpml:swSize"><NettingBatchSize><xsl:value-of select="."/></NettingBatchSize></xsl:for-each><xsl:for-each select="fpml:swOriginatingEvent"><OriginatingEvent><xsl:value-of select="."/></OriginatingEvent></xsl:for-each><xsl:for-each select="fpml:swSubCategory"><SubCategory><xsl:value-of select="."/></SubCategory></xsl:for-each><xsl:for-each select="fpml:swClearingHouse/fpml:partyId"><PartyAId><xsl:value-of select="."/></PartyAId></xsl:for-each><xsl:for-each select="$partyB[1]/fpml:partyId"><PartyBId><xsl:value-of select="."/></PartyBId></xsl:for-each><xsl:for-each select="fpml:swGTRBulkEventProcessingID"><BulkEventID><xsl:value-of select="."/></BulkEventID></xsl:for-each><xsl:for-each select="fpml:swClearingModel"><ClearingModel><xsl:value-of select="."/></ClearingModel></xsl:for-each><SentBy><xsl:value-of select="fpml:swSentBy"/></SentBy></xsl:for-each></xsl:template><xsl:template match="/"><header><xsl:call-template name="headerData"/></header></xsl:template></xsl:stylesheet>