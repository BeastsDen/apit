<?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:fpml="http://www.fpml.org/2009/FpML-4-6" xmlns:common="http://exslt.org/common" exclude-result-prefixes="fpml common" version="1.0"><xsl:import href="swdml-extract-reporting.xsl"/><xsl:output method="xml"/><xsl:variable name="reportingData.rtf"><xsl:apply-templates select="$idm140299544290752-1/fpml:swTradeEventReportingDetails/node()" mode="mapReportingData"/><productType><xsl:value-of select="string(/fpml:SWDML/fpml:swLongFormTrade/fpml:swStructuredTradeDetails/fpml:swProductType)"/></productType><partyRoles><transferor><xsl:value-of select="$idm140299544287648-3/fpml:transferor/@href"/></transferor><transferee><xsl:value-of select="$idm140299544287648-3/fpml:transferee/@href"/></transferee><remainingParty><xsl:value-of select="$idm140299544287648-3/fpml:remainingParty/@href"/></remainingParty><otherRemainingParty><xsl:value-of select="$idm140299544287648-3/fpml:otherRemainingParty/@href"/></otherRemainingParty><primeBrokerA><xsl:value-of select="$idm140299544284800-4/fpml:swPrimeBroker/@href"/></primeBrokerA><primeBrokerB><xsl:value-of select="$idm140299544284064-4/fpml:swPrimeBroker/@href"/></primeBrokerB></partyRoles><xsl:if test="$idm140299544283280-4/fpml:party[@id = 'branch1']/fpml:partyId"><branch1prefix><xsl:value-of select="$idm140299544283280-4/fpml:party[@id = 'branch1']/fpml:partyId/@partyIdScheme"/></branch1prefix></xsl:if><xsl:if test="$idm140299544283280-4/fpml:party[@id = 'branch1']/fpml:partyId"><branch1><xsl:value-of select="$idm140299544283280-4/fpml:party[@id = 'branch1']/fpml:partyId"/></branch1></xsl:if><xsl:if test="$idm140299544283280-4/fpml:party[@id = 'branch2']/fpml:partyId"><branch2prefix><xsl:value-of select="$idm140299544283280-4/fpml:party[@id = 'branch2']/fpml:partyId/@partyIdScheme"/></branch2prefix></xsl:if><xsl:if test="$idm140299544283280-4/fpml:party[@id = 'branch2']/fpml:partyId"><branch2><xsl:value-of select="$idm140299544283280-4/fpml:party[@id = 'branch2']/fpml:partyId"/></branch2></xsl:if><xsl:if test="$idm140299544283280-4/fpml:party[@id = 'indirectCounterparty1']/fpml:partyId"><indirCpty1prefix><xsl:value-of select="$idm140299544283280-4/fpml:party[@id = 'indirectCounterparty1']/fpml:partyId/@partyIdScheme"/></indirCpty1prefix></xsl:if><xsl:if test="$idm140299544283280-4/fpml:party[@id = 'indirectCounterparty1']/fpml:partyId"><indirCpty1><xsl:value-of select="$idm140299544283280-4/fpml:party[@id = 'indirectCounterparty1']/fpml:partyId"/></indirCpty1></xsl:if><xsl:if test="$idm140299544283280-4/fpml:party[@id = 'indirectCounterparty2']/fpml:partyId"><indirCpty2prefix><xsl:value-of select="$idm140299544283280-4/fpml:party[@id = 'indirectCounterparty2']/fpml:partyId/@partyIdScheme"/></indirCpty2prefix></xsl:if><xsl:if test="$idm140299544283280-4/fpml:party[@id = 'indirectCounterparty2']/fpml:partyId"><indirCpty2><xsl:value-of select="$idm140299544283280-4/fpml:party[@id = 'indirectCounterparty2']/fpml:partyId"/></indirCpty2></xsl:if><xsl:if test="$idm140299544283280-4/fpml:party[@id = 'arrangingBroker1']/fpml:partyId"><arrangingBroker1prefix><xsl:value-of select="$idm140299544283280-4/fpml:party[@id = 'arrangingBroker1']/fpml:partyId/@partyIdScheme"/></arrangingBroker1prefix></xsl:if><xsl:if test="$idm140299544283280-4/fpml:party[@id = 'arrangingBroker1']/fpml:partyId"><arrangingBroker1><xsl:value-of select="$idm140299544283280-4/fpml:party[@id = 'arrangingBroker1']/fpml:partyId"/></arrangingBroker1></xsl:if><xsl:if test="$idm140299544283280-4/fpml:party[@id = 'arrangingBroker2']/fpml:partyId"><arrangingBroker2prefix><xsl:value-of select="$idm140299544283280-4/fpml:party[@id = 'arrangingBroker2']/fpml:partyId/@partyIdScheme"/></arrangingBroker2prefix></xsl:if><xsl:if test="$idm140299544283280-4/fpml:party[@id = 'arrangingBroker2']/fpml:partyId"><arrangingBroker2><xsl:value-of select="$idm140299544283280-4/fpml:party[@id = 'arrangingBroker2']/fpml:partyId"/></arrangingBroker2></xsl:if></xsl:variable><xsl:variable name="idm140299544290752-1" select="/fpml:SWDML"/><xsl:variable name="idm140299544287648-2" select="$idm140299544290752-1/fpml:swLongFormTrade"/><xsl:variable name="idm140299544287648-3" select="$idm140299544287648-2/fpml:novation"/><xsl:variable name="idm140299544284800-3" select="$idm140299544287648-2/fpml:swGiveUp"/><xsl:variable name="idm140299544283280-3" select="$idm140299544287648-2/fpml:swStructuredTradeDetails"/><xsl:variable name="idm140299544284800-4" select="$idm140299544284800-3/fpml:swInterDealerTransaction"/><xsl:variable name="idm140299544284064-4" select="$idm140299544284800-3/fpml:swCustomerTransaction"/><xsl:variable name="idm140299544283280-4" select="$idm140299544283280-3/fpml:FpML"/><xsl:variable name="idm140299544029168-4" select="$idm140299544287648-2//fpml:swStructuredTradeDetails"/><xsl:variable name="idm140299544029168-5" select="$idm140299544029168-4/fpml:swExtendedTradeDetails"/><xsl:variable name="idm140299544021360-5" select="$idm140299544029168-4/fpml:FpML"/><xsl:variable name="idm140299544029168-6" select="$idm140299544029168-5/fpml:swTradeHeader"/><xsl:template match="/|comment()|processing-instruction()" mode="mapReportingData"><xsl:copy><xsl:apply-templates mode="mapReportingData"/></xsl:copy></xsl:template><xsl:template match="*" mode="mapReportingData"><xsl:element name="{local-name()}"><xsl:apply-templates select="@*|node()" mode="mapReportingData"/></xsl:element></xsl:template><xsl:template match="@*" mode="mapReportingData"><xsl:attribute name="{local-name()}"><xsl:value-of select="."/></xsl:attribute></xsl:template><xsl:template match="/"><xsl:apply-templates select="fpml:SWDML" mode="get-reporting-data"/></xsl:template><xsl:template match="/fpml:SWDML[function-available('common:node-set')]" mode="get-reporting-data"><xsl:apply-templates select="."><xsl:with-param name="reportingData" select="common:node-set($reportingData.rtf)"/></xsl:apply-templates></xsl:template><xsl:template match="/fpml:SWDML[not(function-available('common:node-set'))]" mode="get-reporting-data"><xsl:apply-templates select="."><xsl:with-param name="reportingData" select="$reportingData.rtf"/></xsl:apply-templates></xsl:template><xsl:variable name="swLongFormTrade" select="$idm140299544287648-2"/><xsl:variable name="ReplacementTradeId" select="$swLongFormTrade/fpml:swReplacementTradeId"/><xsl:variable name="swShortFormTrade" select="$idm140299544290752-1/fpml:swShortFormTrade"/><xsl:variable name="swStructuredTradeDetails" select="$swLongFormTrade/fpml:swStructuredTradeDetails"/><xsl:variable name="productType" select="$swStructuredTradeDetails/fpml:swProductType"/><xsl:variable name="FpML" select="$swStructuredTradeDetails/fpml:FpML"/><xsl:variable name="swExtendedTradeDetails" select="$swStructuredTradeDetails/fpml:swExtendedTradeDetails"/><xsl:variable name="swOrderDetails" select="$swStructuredTradeDetails/fpml:swExtendedTradeDetails/fpml:swOrderDetails"/><xsl:variable name="swTradeHeader" select="$swExtendedTradeDetails/fpml:swTradeHeader"/><xsl:variable name="trade" select="$FpML/fpml:trade"/><xsl:variable name="party" select="$FpML/fpml:party"/><xsl:variable name="tradeHeader" select="$trade/fpml:tradeHeader"/><xsl:variable name="documentation" select="$trade/fpml:documentation"/><xsl:variable name="creditDefaultSwap" select="$trade/fpml:creditDefaultSwap"/><xsl:variable name="feeLeg" select="$creditDefaultSwap/fpml:feeLeg"/><xsl:variable name="generalTerms" select="$creditDefaultSwap/fpml:generalTerms"/><xsl:variable name="protectionTerms" select="$creditDefaultSwap/fpml:protectionTerms"/><xsl:variable name="periodicPayment" select="$feeLeg/fpml:periodicPayment"/><xsl:variable name="indexReferenceInformation" select="$generalTerms/fpml:indexReferenceInformation"/><xsl:variable name="effectiveDate" select="$generalTerms/fpml:effectiveDate"/><xsl:variable name="referenceInformation" select="$generalTerms/fpml:referenceInformation"/><xsl:variable name="floatingAmountEvents" select="$protectionTerms/fpml:floatingAmountEvents"/><xsl:variable name="referenceObligation" select="$referenceInformation/fpml:referenceObligation"/><xsl:variable name="bond" select="$referenceObligation/fpml:bond"/><xsl:variable name="loan" select="$referenceObligation/fpml:loan"/><xsl:variable name="mortgage" select="$referenceObligation/fpml:mortgage"/><xsl:variable name="underlyer" select="$bond | $loan | $mortgage"/><xsl:variable name="underlyerInstrumentId" select="$underlyer/fpml:instrumentId"/><xsl:variable name="partyA"><xsl:choose><xsl:when test="$swLongFormTrade/fpml:novation"><xsl:value-of select="$idm140299544290752-1//fpml:transferor/@href"/></xsl:when><xsl:otherwise><xsl:value-of select="$idm140299544290752-1//fpml:swOriginatorPartyReference/@href"/></xsl:otherwise></xsl:choose></xsl:variable><xsl:variable name="partyB"><xsl:choose><xsl:when test="$swLongFormTrade/fpml:swAllocations or $swLongFormTrade/fpml:swGiveUp"><xsl:value-of select="$tradeHeader/fpml:partyTradeIdentifier/fpml:partyReference/@href[. != $partyA]"/></xsl:when><xsl:when test="$swLongFormTrade/fpml:novation"><xsl:value-of select="$idm140299544290752-1//fpml:transferee/@href"/></xsl:when><xsl:otherwise><xsl:value-of select="$FpML//fpml:party[@id!=$partyA]/@id"/></xsl:otherwise></xsl:choose></xsl:variable><xsl:variable name="partyC"><xsl:choose><xsl:when test="$swLongFormTrade//fpml:swGiveUp"><xsl:choose><xsl:when test="starts-with(/fpml:SWDML//fpml:swInterDealerTransaction/fpml:swPrimeBroker/@href,'#')"><xsl:value-of select="substring-after(/fpml:SWDML//fpml:swInterDealerTransaction/fpml:swPrimeBroker/@href,'#')"/></xsl:when><xsl:otherwise><xsl:value-of select="$idm140299544290752-1//fpml:swInterDealerTransaction/fpml:swPrimeBroker/@href"/></xsl:otherwise></xsl:choose></xsl:when><xsl:when test="$swLongFormTrade//fpml:novation"><xsl:value-of select="$idm140299544290752-1//fpml:remainingParty/@href"/></xsl:when></xsl:choose></xsl:variable><xsl:variable name="partyD"><xsl:choose><xsl:when test="$swLongFormTrade//fpml:swGiveUp"><xsl:choose><xsl:when test="starts-with(/fpml:SWDML//fpml:swCustomerTransaction/fpml:swPrimeBroker/@href,'#')"><xsl:value-of select="substring-after(/fpml:SWDML/fpml:swCustomerTransaction/fpml:swPrimeBroker/@href,'#')"/></xsl:when><xsl:otherwise><xsl:value-of select="$idm140299544290752-1//fpml:swCustomerTransaction/fpml:swPrimeBroker/@href"/></xsl:otherwise></xsl:choose></xsl:when><xsl:when test="$idm140299544290752-1//fpml:swLongFormTrade//fpml:novation"><xsl:value-of select="$idm140299544290752-1//fpml:otherRemainingParty/@href"/></xsl:when></xsl:choose></xsl:variable><xsl:variable name="partyE"><xsl:if test="$idm140299544290752-1//fpml:swLongFormTrade//fpml:novation/fpml:payment"><xsl:value-of select="$idm140299544290752-1//fpml:receiverPartyReference/@href"/></xsl:if></xsl:variable><xsl:variable name="partyF"><xsl:if test="$idm140299544290752-1//fpml:swLongFormTrade//fpml:novation/fpml:payment"><xsl:value-of select="$idm140299544290752-1//fpml:payerPartyReference/@href"/></xsl:if></xsl:variable><xsl:variable name="partyG"><xsl:if test="$swLongFormTrade//fpml:swGiveUp"><xsl:choose><xsl:when test="starts-with(/fpml:SWDML//fpml:swExecutingDealerCustomerTransaction/fpml:swExecutingDealer/@href,'#')"><xsl:value-of select="substring-after(/fpml:SWDML/fpml:swExecutingDealerCustomerTransaction/fpml:swExecutingDealer/@href,'#')"/></xsl:when><xsl:otherwise><xsl:value-of select="$idm140299544290752-1//fpml:swExecutingDealerCustomerTransaction/fpml:swExecutingDealer/@href"/></xsl:otherwise></xsl:choose></xsl:if></xsl:variable><xsl:template match="fpml:SWDML"><xsl:param name="reportingData"/><SWDMLTrade version="4-6"><SWDMLVersion><xsl:value-of select="@version"/></SWDMLVersion><ReplacementTradeId><xsl:value-of select="$ReplacementTradeId/fpml:swTradeId"/></ReplacementTradeId><ReplacementTradeIdType><xsl:value-of select="$ReplacementTradeId/fpml:swTradeIdType"/></ReplacementTradeIdType><ReplacementReason><xsl:value-of select="$ReplacementTradeId/fpml:swReplacementReason"/></ReplacementReason><ShortFormInput><xsl:choose><xsl:when test="$swShortFormTrade">true</xsl:when><xsl:when test="$swLongFormTrade">false</xsl:when><xsl:otherwise>???</xsl:otherwise></xsl:choose></ShortFormInput><ProductType><xsl:value-of select="$productType"/></ProductType><ProductSubType/><ParticipantSupplement/><ConditionPrecedentBondId/><ConditionPrecedentBondMaturity/><AllocatedTrade><xsl:value-of select="boolean($swLongFormTrade/fpml:swAllocations)"/></AllocatedTrade><xsl:if test="$swLongFormTrade//fpml:swAllocations"><xsl:call-template name="fpml:swAllocations"/></xsl:if><PrimeBrokerTrade><xsl:value-of select="boolean($swLongFormTrade/fpml:swGiveUp)"/></PrimeBrokerTrade><ReversePrimeBrokerLegalEntities><xsl:if test="$swLongFormTrade//fpml:swGiveUp"><xsl:choose><xsl:when test="starts-with(/fpml:SWDML//fpml:swCustomerTransaction/fpml:swCustomer/@href,'#')"><xsl:value-of select="boolean(/fpml:SWDML//fpml:swCustomerTransaction/fpml:swCustomer/@href = $partyA)"/></xsl:when><xsl:otherwise><xsl:value-of select="boolean(string(/fpml:SWDML//fpml:swCustomerTransaction/fpml:swCustomer/@href) = $partyA)"/></xsl:otherwise></xsl:choose></xsl:if></ReversePrimeBrokerLegalEntities><PartyAId><xsl:if test="$swLongFormTrade//fpml:swGiveUp or $swLongFormTrade//fpml:novation"><xsl:attribute name="id"><xsl:value-of select="$partyA"/></xsl:attribute></xsl:if><xsl:value-of select="$party[@id=$partyA]/fpml:partyId"/></PartyAId><PartyAIdType><xsl:value-of select="$party[@id=$partyA]/fpml:partyId/@partyIdScheme"/></PartyAIdType><PartyBId><xsl:if test="$swLongFormTrade//fpml:swGiveUp or $swLongFormTrade//fpml:novation"><xsl:attribute name="id"><xsl:value-of select="$partyB"/></xsl:attribute></xsl:if><xsl:value-of select="$party[@id=$partyB]/fpml:partyId"/></PartyBId><PartyBIdType><xsl:value-of select="$party[@id=$partyB]/fpml:partyId/@partyIdScheme"/></PartyBIdType><PartyCId><xsl:if test="$swLongFormTrade//fpml:swGiveUp or $swLongFormTrade//fpml:novation"><xsl:attribute name="id"><xsl:value-of select="$partyC"/></xsl:attribute></xsl:if><xsl:value-of select="$party[@id=$partyC]/fpml:partyId"/></PartyCId><PartyCIdType><xsl:value-of select="$party[@id=$partyC]/fpml:partyId/@partyIdScheme"/></PartyCIdType><PartyDId><xsl:if test="$swLongFormTrade//fpml:swGiveUp or $swLongFormTrade//fpml:novation"><xsl:if test="$partyD!=''"><xsl:attribute name="id"><xsl:value-of select="$partyD"/></xsl:attribute><xsl:value-of select="$party[@id=$partyD]/fpml:partyId"/></xsl:if></xsl:if></PartyDId><PartyDIdType><xsl:if test="$swLongFormTrade//fpml:swGiveUp or $swLongFormTrade//fpml:novation"><xsl:value-of select="$party[@id=$partyD]/fpml:partyId/@partyIdScheme"/></xsl:if></PartyDIdType><PartyGId><xsl:if test="$swLongFormTrade//fpml:swGiveUp"><xsl:if test="$partyG!=''"><xsl:attribute name="id"><xsl:value-of select="$partyG"/></xsl:attribute><xsl:value-of select="$party[@id=$partyG]/fpml:partyId"/></xsl:if></xsl:if></PartyGId><PartyGIdType><xsl:if test="$swLongFormTrade//fpml:swGiveUp"><xsl:value-of select="$party[@id=$partyG]/fpml:partyId/@partyIdScheme"/></xsl:if></PartyGIdType><Interoperable/><ExternalInteropabilityId/><InteropNettingString/><DirectionA><xsl:choose><xsl:when test="$generalTerms/fpml:buyerPartyReference/@href = $partyA">Buy</xsl:when><xsl:otherwise>Sell</xsl:otherwise></xsl:choose></DirectionA><TradeDate><xsl:call-template name="formatDate"><xsl:with-param name="date" select="$tradeHeader/fpml:tradeDate"/></xsl:call-template></TradeDate><StartDateTenor/><EndDateTenor/><StartDateDay/><Tenor><xsl:choose><xsl:when test="$productType='CDS Index' and                                     not($effectiveDate/fpml:unadjustedDate)">5Y</xsl:when><xsl:when test="$productType='CDS Index' and                                      $effectiveDate/fpml:unadjustedDate"><xsl:variable name="effDateYear" select="substring($effectiveDate/fpml:unadjustedDate, 1, 4)"/><xsl:variable name="termDateYear" select="substring($generalTerms/fpml:scheduledTerminationDate/fpml:adjustableDate/fpml:unadjustedDate, 1, 4)"/><xsl:variable name="effDateMonth" select="substring($effectiveDate/fpml:unadjustedDate, 6, 2)"/><xsl:variable name="termDateMonth" select="substring($generalTerms/fpml:scheduledTerminationDate/fpml:adjustableDate/fpml:unadjustedDate, 6, 2)"/><xsl:variable name="termInMonths" select="string(                                               (                                               (number($termDateYear) -                                                number($effDateYear)) * 12) +                                                number($termDateMonth) -                                               number($effDateMonth))"/><xsl:choose><xsl:when test="number($termInMonths)&gt;=120">10Y</xsl:when><xsl:when test="number($termInMonths)&gt;=84">7Y</xsl:when><xsl:when test="number($termInMonths)&gt;=60">5Y</xsl:when><xsl:when test="number($termInMonths)&gt;=48">4Y</xsl:when><xsl:when test="number($termInMonths)&gt;=36">3Y</xsl:when><xsl:when test="number($termInMonths)&gt;=24">2Y</xsl:when><xsl:otherwise>1Y</xsl:otherwise></xsl:choose></xsl:when><xsl:otherwise><xsl:call-template name="calculateTenor"><xsl:with-param name="startDate" select="$effectiveDate/fpml:unadjustedDate"/><xsl:with-param name="endDate" select="$generalTerms/fpml:scheduledTerminationDate/fpml:adjustableDate/fpml:unadjustedDate"/></xsl:call-template></xsl:otherwise></xsl:choose></Tenor><StartDate><xsl:call-template name="formatDate"><xsl:with-param name="date" select="$effectiveDate/fpml:unadjustedDate"/></xsl:call-template></StartDate><FirstFixedPeriodStartDate/><FirstFloatPeriodStartDate/><FirstFloatPeriodStartDate_2/><EndDate><xsl:variable name="endDate"><xsl:call-template name="formatDate"><xsl:with-param name="date" select="$generalTerms/fpml:scheduledTerminationDate/fpml:adjustableDate/fpml:unadjustedDate"/></xsl:call-template></xsl:variable><xsl:value-of select="$endDate"/></EndDate><FixedPaymentFreq><xsl:if test="$productType='CDS' or                                $productType='CDS Matrix' or                               $productType='CDS Master'"><xsl:for-each select="$periodicPayment/fpml:paymentFrequency"><xsl:value-of select="concat(fpml:periodMultiplier, fpml:period)"/></xsl:for-each></xsl:if></FixedPaymentFreq><FixedPaymentFreq_2/><FloatPaymentFreq/><FloatPaymentFreq_2/><FloatRollFreq/><FloatRollFreq_2/><RollsType><xsl:if test="$productType='CDS' or $productType='CDS Matrix' or $productType='CDS Master'"><xsl:variable name="rollConvention" select="$periodicPayment/fpml:rollConvention"/><xsl:variable name="termDateMMDD" select="substring($generalTerms/fpml:scheduledTerminationDate/fpml:adjustableDate/fpml:unadjustedDate,6,5)"/><xsl:choose><xsl:when test="($rollConvention='20' and ($termDateMMDD='03-20' or $termDateMMDD='06-20' or $termDateMMDD='09-20' or $termDateMMDD='12-20') and not($periodicPayment/fpml:lastRegularPaymentDate)) or not($periodicPayment)">Standard</xsl:when><xsl:otherwise>Custom</xsl:otherwise></xsl:choose></xsl:if></RollsType><RollsMethod/><RollDay><xsl:if test="$productType='CDS' or $productType='CDS Matrix' or $productType='CDS Master'"><xsl:value-of select="$periodicPayment/fpml:rollConvention"/></xsl:if></RollDay><MonthEndRolls><xsl:if test="$productType='CDS' or $productType='CDS Matrix' or $productType='CDS Master'"><xsl:variable name="rollConvention" select="$periodicPayment/fpml:rollConvention"/><xsl:value-of select="boolean($rollConvention='EOM')"/></xsl:if></MonthEndRolls><FirstPeriodStartDate><xsl:if test="($productType='CDS Matrix' or $productType='CDS Master') and $periodicPayment/fpml:firstPeriodStartDate"><xsl:call-template name="formatDate"><xsl:with-param name="date" select="$periodicPayment/fpml:firstPeriodStartDate"/></xsl:call-template></xsl:if></FirstPeriodStartDate><FirstPaymentDate><xsl:if test="($productType='CDS' or $productType='CDS Matrix' or $productType='CDS Master') and $periodicPayment/fpml:firstPaymentDate"><xsl:call-template name="formatDate"><xsl:with-param name="date" select="$periodicPayment/fpml:firstPaymentDate"/></xsl:call-template></xsl:if></FirstPaymentDate><LastRegularPaymentDate><xsl:if test="($productType='CDS' or $productType='CDS Matrix' or $productType='CDS Master') and $periodicPayment/fpml:lastRegularPaymentDate"><xsl:call-template name="formatDate"><xsl:with-param name="date" select="$periodicPayment/fpml:lastRegularPaymentDate"/></xsl:call-template></xsl:if></LastRegularPaymentDate><FixedRate><xsl:value-of select="$periodicPayment/                                         fpml:fixedAmountCalculation/                                         fpml:fixedRate"/></FixedRate><FixedRate_2/><initialPoints><xsl:if test="($productType='CDS Matrix' and $swTradeHeader/fpml:swClientClearing = 'true') or $productType='CDS Master'"><xsl:value-of select="$feeLeg/fpml:initialPoints"/></xsl:if></initialPoints><quotationStyle><xsl:if test="($productType='CDS Matrix' and $swTradeHeader/fpml:swClientClearing = 'true') or $productType='CDS Master'"><xsl:value-of select="$feeLeg/fpml:quotationStyle"/></xsl:if></quotationStyle><RecoveryRate/><FixedSettlement/><Currency><xsl:if test="$productType='CDS' or $productType='CDS Matrix' or $productType='CDS Index' or $productType='CDS Master'"><xsl:value-of select="$protectionTerms/fpml:calculationAmount/fpml:currency"/></xsl:if></Currency><Currency_2/><Notional><xsl:if test="$productType='CDS' or $productType='CDS Matrix' or $productType='CDS Index' or $productType='CDS Master'"><xsl:value-of select="$protectionTerms/fpml:calculationAmount/fpml:amount"/></xsl:if></Notional><Notional_2/><InitialNotional/><FixedAmount/><FixedAmountCurrency/><FixedDayBasis/><FloatDayBasis/><FloatDayBasis_2/><FixedConvention/><FixedCalcPeriodDatesConvention/><FixedTerminationDateConvention/><FloatConvention/><FloatCalcPeriodDatesConvention/><FloatTerminationDateConvention/><FloatConvention_2/><FloatTerminationDateConvention_2/><FloatingRateIndex/><FloatingRateIndex_2/><InflationLag/><IndexSource/><InterpolationMethod/><InitialIndexLevel/><RelatedBond/><IndexTenor1/><IndexTenor1_2/><LinearInterpolation/><LinearInterpolation_2/><IndexTenor2/><IndexTenor2_2/><InitialInterpolationIndex/><InitialInterpolationIndex_2/><SpreadOverIndex/><SpreadOverIndex_2/><FirstFixingRate/><FirstFixingRate_2/><FixingDaysOffset/><FixingDaysOffset_2/><FixingHolidayCentres/><FixingHolidayCentres_2/><ResetInArrears/><ResetInArrears_2/><FirstFixingDifferent/><FirstFixingDifferent_2/><FirstFixingDaysOffset/><FirstFixingDaysOffset_2/><FirstFixingHolidayCentres/><FirstFixingHolidayCentres_2/><PaymentHolidayCentres/><PaymentHolidayCentres_2/><PaymentLag/><PaymentLag_2/><RollHolidayCentres/><RollHolidayCentres_2/><AdjustFixedStartDate/><AdjustFloatStartDate/><AdjustFloatStartDate_2/><AdjustRollEnd/><AdjustFloatRollEnd/><AdjustFloatRollEnd_2/><AdjustFixedFinalRollEnd/><AdjustFinalRollEnd/><AdjustFinalRollEnd_2/><CompoundingMethod/><CompoundingMethod_2/><AveragingMethod/><AveragingMethod_2/><FloatingRateMultiplier/><FloatingRateMultiplier_2/><DesignatedMaturity/><DesignatedMaturity_2/><ResetFreq/><ResetFreq_2/><WeeklyRollConvention/><WeeklyRollConvention_2/><RateCutOffDays/><RateCutOffDays_2/><InitialExchange/><FinalExchange/><MarkToMarket/><IntermediateExchange/><MTMRateSource/><MTMRateSourcePage/><MTMFixingDate/><MTMFixingHolidayCentres/><MTMFixingTime/><MTMLocation/><MTMCutoffTime/><CalculationPeriodDays/><FraDiscounting/><HasBreak/><BreakFromSwap/><BreakOverride/><BreakCalculationMethod/><BreakFirstDateTenor/><BreakFrequency/><BreakOptionA/><BreakDate/><BreakExpirationDate/><BreakEarliestTime/><BreakLatestTime/><BreakCalcAgentA/><BreakExpiryTime/><BreakCashSettleCcy/><BreakLocation/><BreakHolidayCentre/><BreakSettlement/><BreakValuationDate/><BreakValuationTime/><BreakSource/><BreakReferenceBanks/><BreakQuotation/><BreakMMVApplicableCSA/><BreakCollateralCurrency/><BreakCollateralInterestRate/><BreakAgreedDiscountRate/><BreakProtectedPartyA/><BreakMutuallyAgreedCH/><BreakPrescribedDocAdj/><ExchangeUnderlying/><SwapSpread/><BondId1/><BondName1/><BondAmount1/><BondPriceType1/><BondPrice1/><BondId2/><BondName2/><BondAmount2/><BondPriceType2/><BondPrice2/><StubAt><xsl:if test="$productType='CDS' or $productType='CDS Matrix' or $productType='CDS Master'"><xsl:choose><xsl:when test="$periodicPayment/fpml:lastRegularPaymentDate">End</xsl:when><xsl:otherwise>Start</xsl:otherwise></xsl:choose></xsl:if></StubAt><FixedStub/><FloatStub/><FloatStub_2/><FrontAndBackStubs/><FixedBackStub/><FloatBackStub/><BackStubIndexTenor1/><BackStubIndexTenor2/><BackStubLinearInterpolation/><BackStubInitialInterpIndex/><FirstFixedRegPdStartDate/><FirstFloatRegPdStartDate/><LastFixedRegPdEndDate/><LastFloatRegPdEndDate/><MasterAgreement><xsl:value-of select="$documentation/fpml:masterAgreement/fpml:masterAgreementType"/></MasterAgreement><ManualConfirm><xsl:value-of select="$swTradeHeader/fpml:swManualConfirmationRequired"/></ManualConfirm><NovationExecution><xsl:value-of select="$swTradeHeader/fpml:swNovationExecution"/></NovationExecution><ExclFromClearing><xsl:value-of select="$swTradeHeader/fpml:swClearingNotRequired"/></ExclFromClearing><NonStdSettlInst/><Normalised/><DataMigrationId/><NormalisedStubLength/><ClientClearing><xsl:value-of select="$swTradeHeader/fpml:swClientClearing"/></ClientClearing><AutoSendForClearing><xsl:value-of select="$swTradeHeader/fpml:swAutoSendForClearing"/></AutoSendForClearing><CBClearedTimestamp><xsl:value-of select="$idm140299544029168-6/fpml:swCBClearedTimestamp"/></CBClearedTimestamp><CBTradeType><xsl:value-of select="$idm140299544029168-6/fpml:swCBTradeType"/></CBTradeType><ASICMandatoryClearingIndicator><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='ASIC']/fpml:swMandatoryClearingIndicator"/></ASICMandatoryClearingIndicator><NewNovatedASICMandatoryClearingIndicator><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='ASIC']/fpml:swMandatoryClearingIndicator"/></NewNovatedASICMandatoryClearingIndicator><PBEBTradeASICMandatoryClearingIndicator><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='ASIC']/fpml:swMandatoryClearingIndicator"/></PBEBTradeASICMandatoryClearingIndicator><PBClientTradeASICMandatoryClearingIndicator><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='ASIC']/fpml:swMandatoryClearingIndicator"/></PBClientTradeASICMandatoryClearingIndicator><CANMandatoryClearingIndicator><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='CAN']/fpml:swMandatoryClearingIndicator"/></CANMandatoryClearingIndicator><CANClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544021360-5/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade//fpml:swStructuredTradeDetails/fpml:swExtendedTradeDetails/fpml:swTradeHeader/fpml:swMandatoryClearing[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></CANClearingExemptIndicator1PartyId><CANClearingExemptIndicator1Value><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[1]/fpml:swExemption"/></CANClearingExemptIndicator1Value><CANClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544021360-5/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade//fpml:swStructuredTradeDetails/fpml:swExtendedTradeDetails/fpml:swTradeHeader/fpml:swMandatoryClearing[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></CANClearingExemptIndicator2PartyId><CANClearingExemptIndicator2Value><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[2]/fpml:swExemption"/></CANClearingExemptIndicator2Value><NewNovatedCANMandatoryClearingIndicator><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='CAN']/fpml:swMandatoryClearingIndicator"/></NewNovatedCANMandatoryClearingIndicator><NewNovatedCANClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:novation/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></NewNovatedCANClearingExemptIndicator1PartyId><NewNovatedCANClearingExemptIndicator1Value><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[1]/fpml:swExemption"/></NewNovatedCANClearingExemptIndicator1Value><NewNovatedCANClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:novation/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></NewNovatedCANClearingExemptIndicator2PartyId><NewNovatedCANClearingExemptIndicator2Value><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[2]/fpml:swExemption"/></NewNovatedCANClearingExemptIndicator2Value><PBEBTradeCANMandatoryClearingIndicator><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='CAN']/fpml:swMandatoryClearingIndicator"/></PBEBTradeCANMandatoryClearingIndicator><PBEBTradeCANClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swInterDealerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></PBEBTradeCANClearingExemptIndicator1PartyId><PBEBTradeCANClearingExemptIndicator1Value><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[1]/fpml:swExemption"/></PBEBTradeCANClearingExemptIndicator1Value><PBEBTradeCANClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swInterDealerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></PBEBTradeCANClearingExemptIndicator2PartyId><PBEBTradeCANClearingExemptIndicator2Value><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[2]/fpml:swExemption"/></PBEBTradeCANClearingExemptIndicator2Value><PBClientTradeCANMandatoryClearingIndicator><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='CAN']/fpml:swMandatoryClearingIndicator"/></PBClientTradeCANMandatoryClearingIndicator><PBClientTradeCANClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swCustomerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></PBClientTradeCANClearingExemptIndicator1PartyId><PBClientTradeCANClearingExemptIndicator1Value><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[1]/fpml:swExemption"/></PBClientTradeCANClearingExemptIndicator1Value><PBClientTradeCANClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swCustomerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></PBClientTradeCANClearingExemptIndicator2PartyId><PBClientTradeCANClearingExemptIndicator2Value><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='CAN']/fpml:swPartyExemption[2]/fpml:swExemption"/></PBClientTradeCANClearingExemptIndicator2Value><ESMAMandatoryClearingIndicator><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='ESMA']/fpml:swMandatoryClearingIndicator"/></ESMAMandatoryClearingIndicator><ESMAClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544021360-5/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade//fpml:swStructuredTradeDetails/fpml:swExtendedTradeDetails/fpml:swTradeHeader/fpml:swMandatoryClearing[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></ESMAClearingExemptIndicator1PartyId><ESMAClearingExemptIndicator1Value><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[1]/fpml:swExemption"/></ESMAClearingExemptIndicator1Value><ESMAClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544021360-5/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade//fpml:swStructuredTradeDetails/fpml:swExtendedTradeDetails/fpml:swTradeHeader/fpml:swMandatoryClearing[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></ESMAClearingExemptIndicator2PartyId><ESMAClearingExemptIndicator2Value><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[2]/fpml:swExemption"/></ESMAClearingExemptIndicator2Value><NewNovatedESMAMandatoryClearingIndicator><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='ESMA']/fpml:swMandatoryClearingIndicator"/></NewNovatedESMAMandatoryClearingIndicator><NewNovatedESMAClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:novation/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></NewNovatedESMAClearingExemptIndicator1PartyId><NewNovatedESMAClearingExemptIndicator1Value><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[1]/fpml:swExemption"/></NewNovatedESMAClearingExemptIndicator1Value><NewNovatedESMAClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:novation/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></NewNovatedESMAClearingExemptIndicator2PartyId><NewNovatedESMAClearingExemptIndicator2Value><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[2]/fpml:swExemption"/></NewNovatedESMAClearingExemptIndicator2Value><PBEBTradeESMAMandatoryClearingIndicator><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='ESMA']/fpml:swMandatoryClearingIndicator"/></PBEBTradeESMAMandatoryClearingIndicator><PBEBTradeESMAClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swInterDealerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></PBEBTradeESMAClearingExemptIndicator1PartyId><PBEBTradeESMAClearingExemptIndicator1Value><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[1]/fpml:swExemption"/></PBEBTradeESMAClearingExemptIndicator1Value><PBEBTradeESMAClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swInterDealerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></PBEBTradeESMAClearingExemptIndicator2PartyId><PBEBTradeESMAClearingExemptIndicator2Value><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[2]/fpml:swExemption"/></PBEBTradeESMAClearingExemptIndicator2Value><PBClientTradeESMAMandatoryClearingIndicator><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='ESMA']/fpml:swMandatoryClearingIndicator"/></PBClientTradeESMAMandatoryClearingIndicator><PBClientTradeESMAClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swCustomerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></PBClientTradeESMAClearingExemptIndicator1PartyId><PBClientTradeESMAClearingExemptIndicator1Value><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[1]/fpml:swExemption"/></PBClientTradeESMAClearingExemptIndicator1Value><PBClientTradeESMAClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swCustomerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></PBClientTradeESMAClearingExemptIndicator2PartyId><PBClientTradeESMAClearingExemptIndicator2Value><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='ESMA']/fpml:swPartyExemption[2]/fpml:swExemption"/></PBClientTradeESMAClearingExemptIndicator2Value><FCAMandatoryClearingIndicator><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='FCA']/fpml:swMandatoryClearingIndicator"/></FCAMandatoryClearingIndicator><FCAClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544021360-5/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade//fpml:swStructuredTradeDetails/fpml:swExtendedTradeDetails/fpml:swTradeHeader/fpml:swMandatoryClearing[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></FCAClearingExemptIndicator1PartyId><FCAClearingExemptIndicator1Value><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[1]/fpml:swExemption"/></FCAClearingExemptIndicator1Value><FCAClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544021360-5/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade//fpml:swStructuredTradeDetails/fpml:swExtendedTradeDetails/fpml:swTradeHeader/fpml:swMandatoryClearing[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></FCAClearingExemptIndicator2PartyId><FCAClearingExemptIndicator2Value><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[2]/fpml:swExemption"/></FCAClearingExemptIndicator2Value><NewNovatedFCAMandatoryClearingIndicator><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='FCA']/fpml:swMandatoryClearingIndicator"/></NewNovatedFCAMandatoryClearingIndicator><NewNovatedFCAClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:novation/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></NewNovatedFCAClearingExemptIndicator1PartyId><NewNovatedFCAClearingExemptIndicator1Value><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[1]/fpml:swExemption"/></NewNovatedFCAClearingExemptIndicator1Value><NewNovatedFCAClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:novation/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></NewNovatedFCAClearingExemptIndicator2PartyId><NewNovatedFCAClearingExemptIndicator2Value><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[2]/fpml:swExemption"/></NewNovatedFCAClearingExemptIndicator2Value><PBEBTradeFCAMandatoryClearingIndicator><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='FCA']/fpml:swMandatoryClearingIndicator"/></PBEBTradeFCAMandatoryClearingIndicator><PBEBTradeFCAClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swInterDealerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></PBEBTradeFCAClearingExemptIndicator1PartyId><PBEBTradeFCAClearingExemptIndicator1Value><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[1]/fpml:swExemption"/></PBEBTradeFCAClearingExemptIndicator1Value><PBEBTradeFCAClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swInterDealerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></PBEBTradeFCAClearingExemptIndicator2PartyId><PBEBTradeFCAClearingExemptIndicator2Value><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[2]/fpml:swExemption"/></PBEBTradeFCAClearingExemptIndicator2Value><PBClientTradeFCAMandatoryClearingIndicator><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='FCA']/fpml:swMandatoryClearingIndicator"/></PBClientTradeFCAMandatoryClearingIndicator><PBClientTradeFCAClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swCustomerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></PBClientTradeFCAClearingExemptIndicator1PartyId><PBClientTradeFCAClearingExemptIndicator1Value><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[1]/fpml:swExemption"/></PBClientTradeFCAClearingExemptIndicator1Value><PBClientTradeFCAClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swCustomerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></PBClientTradeFCAClearingExemptIndicator2PartyId><PBClientTradeFCAClearingExemptIndicator2Value><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='FCA']/fpml:swPartyExemption[2]/fpml:swExemption"/></PBClientTradeFCAClearingExemptIndicator2Value><HKMAMandatoryClearingIndicator><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='HKMA']/fpml:swMandatoryClearingIndicator"/></HKMAMandatoryClearingIndicator><HKMAClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544021360-5/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade//fpml:swStructuredTradeDetails/fpml:swExtendedTradeDetails/fpml:swTradeHeader/fpml:swMandatoryClearing[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></HKMAClearingExemptIndicator1PartyId><HKMAClearingExemptIndicator1Value><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[1]/fpml:swExemption"/></HKMAClearingExemptIndicator1Value><HKMAClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544021360-5/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade//fpml:swStructuredTradeDetails/fpml:swExtendedTradeDetails/fpml:swTradeHeader/fpml:swMandatoryClearing[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></HKMAClearingExemptIndicator2PartyId><HKMAClearingExemptIndicator2Value><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[2]/fpml:swExemption"/></HKMAClearingExemptIndicator2Value><NewNovatedHKMAMandatoryClearingIndicator><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='HKMA']/fpml:swMandatoryClearingIndicator"/></NewNovatedHKMAMandatoryClearingIndicator><NewNovatedHKMAClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:novation/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></NewNovatedHKMAClearingExemptIndicator1PartyId><NewNovatedHKMAClearingExemptIndicator1Value><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[1]/fpml:swExemption"/></NewNovatedHKMAClearingExemptIndicator1Value><NewNovatedHKMAClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:novation/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></NewNovatedHKMAClearingExemptIndicator2PartyId><NewNovatedHKMAClearingExemptIndicator2Value><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[2]/fpml:swExemption"/></NewNovatedHKMAClearingExemptIndicator2Value><PBEBTradeHKMAMandatoryClearingIndicator><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='HKMA']/fpml:swMandatoryClearingIndicator"/></PBEBTradeHKMAMandatoryClearingIndicator><PBEBTradeHKMAClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swInterDealerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></PBEBTradeHKMAClearingExemptIndicator1PartyId><PBEBTradeHKMAClearingExemptIndicator1Value><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[1]/fpml:swExemption"/></PBEBTradeHKMAClearingExemptIndicator1Value><PBEBTradeHKMAClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swInterDealerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></PBEBTradeHKMAClearingExemptIndicator2PartyId><PBEBTradeHKMAClearingExemptIndicator2Value><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[2]/fpml:swExemption"/></PBEBTradeHKMAClearingExemptIndicator2Value><PBClientTradeHKMAMandatoryClearingIndicator><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='HKMA']/fpml:swMandatoryClearingIndicator"/></PBClientTradeHKMAMandatoryClearingIndicator><PBClientTradeHKMAClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swCustomerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></PBClientTradeHKMAClearingExemptIndicator1PartyId><PBClientTradeHKMAClearingExemptIndicator1Value><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[1]/fpml:swExemption"/></PBClientTradeHKMAClearingExemptIndicator1Value><PBClientTradeHKMAClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swCustomerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></PBClientTradeHKMAClearingExemptIndicator2PartyId><PBClientTradeHKMAClearingExemptIndicator2Value><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='HKMA']/fpml:swPartyExemption[2]/fpml:swExemption"/></PBClientTradeHKMAClearingExemptIndicator2Value><JFSAMandatoryClearingIndicator/><CFTCMandatoryClearingIndicator><xsl:choose><xsl:when test="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swMandatoryClearingIndicator"><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swMandatoryClearingIndicator"/></xsl:when><xsl:when test="$idm140299544290752-1/fpml:swTradeEventReportingDetails/fpml:swReportingRegimeInformation[fpml:swJurisdiction/text()='DoddFrank']/fpml:swMandatoryClearingIndicator"><xsl:value-of select="$idm140299544290752-1/fpml:swTradeEventReportingDetails/fpml:swReportingRegimeInformation[fpml:swJurisdiction/text()='DoddFrank']/fpml:swMandatoryClearingIndicator"/></xsl:when></xsl:choose></CFTCMandatoryClearingIndicator><CFTCClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544021360-5/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade//fpml:swStructuredTradeDetails/fpml:swExtendedTradeDetails/fpml:swTradeHeader/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></CFTCClearingExemptIndicator1PartyId><CFTCClearingExemptIndicator1Value><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[1]/fpml:swExemption"/></CFTCClearingExemptIndicator1Value><CFTCClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544021360-5/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade//fpml:swStructuredTradeDetails/fpml:swExtendedTradeDetails/fpml:swTradeHeader/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></CFTCClearingExemptIndicator2PartyId><CFTCClearingExemptIndicator2Value><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[2]/fpml:swExemption"/></CFTCClearingExemptIndicator2Value><CFTCInterAffiliateExemption><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swInterAffiliateExemption"/></CFTCInterAffiliateExemption><NewNovatedCFTCMandatoryClearingIndicator><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='DoddFrank']/fpml:swMandatoryClearingIndicator"/></NewNovatedCFTCMandatoryClearingIndicator><NewNovatedCFTCClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:novation/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></NewNovatedCFTCClearingExemptIndicator1PartyId><NewNovatedCFTCClearingExemptIndicator1Value><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[1]/fpml:swExemption"/></NewNovatedCFTCClearingExemptIndicator1Value><NewNovatedCFTCClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:novation/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></NewNovatedCFTCClearingExemptIndicator2PartyId><NewNovatedCFTCClearingExemptIndicator2Value><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[2]/fpml:swExemption"/></NewNovatedCFTCClearingExemptIndicator2Value><NewNovatedCFTCInterAffiliateExemption><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='DoddFrank']/fpml:swInterAffiliateExemption"/></NewNovatedCFTCInterAffiliateExemption><PBEBTradeCFTCMandatoryClearingIndicator><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swMandatoryClearingIndicator"/></PBEBTradeCFTCMandatoryClearingIndicator><PBEBTradeJFSAMandatoryClearingIndicator><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='JFSA']/fpml:swMandatoryClearingIndicator"/></PBEBTradeJFSAMandatoryClearingIndicator><PBEBTradeCFTCClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swInterDealerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></PBEBTradeCFTCClearingExemptIndicator1PartyId><PBEBTradeCFTCClearingExemptIndicator1Value><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[1]/fpml:swExemption"/></PBEBTradeCFTCClearingExemptIndicator1Value><PBEBTradeCFTCClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swInterDealerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></PBEBTradeCFTCClearingExemptIndicator2PartyId><PBEBTradeCFTCClearingExemptIndicator2Value><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[2]/fpml:swExemption"/></PBEBTradeCFTCClearingExemptIndicator2Value><PBEBTradeCFTCInterAffiliateExemption><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swInterAffiliateExemption"/></PBEBTradeCFTCInterAffiliateExemption><PBClientTradeCFTCMandatoryClearingIndicator><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swMandatoryClearingIndicator"/></PBClientTradeCFTCMandatoryClearingIndicator><PBClientTradeJFSAMandatoryClearingIndicator><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='JFSA']/fpml:swMandatoryClearingIndicator"/></PBClientTradeJFSAMandatoryClearingIndicator><PBClientTradeCFTCClearingExemptIndicator1PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swCustomerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[1]/fpml:swPartyReference/@href]/fpml:partyId"/></PBClientTradeCFTCClearingExemptIndicator1PartyId><PBClientTradeCFTCClearingExemptIndicator1Value><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[1]/fpml:swExemption"/></PBClientTradeCFTCClearingExemptIndicator1Value><PBClientTradeCFTCClearingExemptIndicator2PartyId><xsl:value-of select="$idm140299544283280-4/fpml:party[@id=/fpml:SWDML/fpml:swLongFormTrade/fpml:swGiveUp/fpml:swCustomerTransaction/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[2]/fpml:swPartyReference/@href]/fpml:partyId"/></PBClientTradeCFTCClearingExemptIndicator2PartyId><PBClientTradeCFTCClearingExemptIndicator2Value><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swPartyExemption[2]/fpml:swExemption"/></PBClientTradeCFTCClearingExemptIndicator2Value><PBClientTradeCFTCInterAffiliateExemption><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='DoddFrank']/fpml:swInterAffiliateExemption"/></PBClientTradeCFTCInterAffiliateExemption><MASMandatoryClearingIndicator><xsl:value-of select="$idm140299544029168-6/fpml:swMandatoryClearing[fpml:swJurisdiction='MAS']/fpml:swMandatoryClearingIndicator"/></MASMandatoryClearingIndicator><NewNovatedMASMandatoryClearingIndicator><xsl:value-of select="$idm140299544287648-3/fpml:swMandatoryClearingNewNovatedTrade[fpml:swJurisdiction='MAS']/fpml:swMandatoryClearingIndicator"/></NewNovatedMASMandatoryClearingIndicator><PBEBTradeMASMandatoryClearingIndicator><xsl:value-of select="$idm140299544284800-4/fpml:swMandatoryClearing[fpml:swJurisdiction='MAS']/fpml:swMandatoryClearingIndicator"/></PBEBTradeMASMandatoryClearingIndicator><PBClientTradeMASMandatoryClearingIndicator><xsl:value-of select="$idm140299544284064-4/fpml:swMandatoryClearing[fpml:swJurisdiction='MAS']/fpml:swMandatoryClearingIndicator"/></PBClientTradeMASMandatoryClearingIndicator><ClearingHouseId><xsl:value-of select="$swTradeHeader/fpml:swClearingHouse/fpml:partyId"/></ClearingHouseId><ClearingBrokerId><xsl:value-of select="$swTradeHeader/fpml:swClearingBroker/fpml:partyId"/></ClearingBrokerId><OriginatingEvent><xsl:value-of select="$swTradeHeader/fpml:swOriginatingEvent"/></OriginatingEvent><OriginatingTradeId><xsl:value-of select="$swTradeHeader/fpml:swOriginatingTradeId"/></OriginatingTradeId><ESMAFrontloading><xsl:value-of select="$swTradeHeader/fpml:swESMAFrontloading"/></ESMAFrontloading><ESMAClearingExemption><xsl:value-of select="$swTradeHeader/fpml:swESMAClearingExemption"/></ESMAClearingExemption><BackLoadingFlag/><Novation><xsl:value-of select="boolean($swLongFormTrade//fpml:novation)"/></Novation><xsl:variable name="tradeNotional" select="$protectionTerms/fpml:calculationAmount/fpml:amount"/><xsl:variable name="novatedAmount"><xsl:choose><xsl:when test="$swLongFormTrade/fpml:novation/fpml:novatedAmount/fpml:amount"><xsl:value-of select="$swLongFormTrade/fpml:novation/fpml:novatedAmount/fpml:amount"/></xsl:when><xsl:otherwise><xsl:value-of select="$tradeNotional"/></xsl:otherwise></xsl:choose></xsl:variable><PartialNovation><xsl:if test="$swLongFormTrade//fpml:novation/fpml:swPartialNovationIndicator"><xsl:value-of select="boolean($swLongFormTrade//fpml:novation/fpml:swPartialNovationIndicator = 'true')"/></xsl:if></PartialNovation><FourWayNovation><xsl:choose><xsl:when test="$swLongFormTrade//fpml:novation"><xsl:value-of select="boolean($swLongFormTrade//fpml:novation/fpml:otherRemainingParty)"/></xsl:when><xsl:otherwise/></xsl:choose></FourWayNovation><NovationTradeDate><xsl:choose><xsl:when test="$swLongFormTrade//fpml:novation"><xsl:call-template name="formatDate"><xsl:with-param name="date" select="$swLongFormTrade//fpml:novation/fpml:novationTradeDate"/></xsl:call-template></xsl:when><xsl:otherwise/></xsl:choose></NovationTradeDate><NovationDate><xsl:choose><xsl:when test="$swLongFormTrade//fpml:novation"><xsl:call-template name="formatDate"><xsl:with-param name="date" select="$swLongFormTrade//fpml:novation/fpml:novationDate"/></xsl:call-template></xsl:when><xsl:otherwise/></xsl:choose></NovationDate><NovatedAmount><xsl:value-of select="$novatedAmount"/></NovatedAmount><NovatedAmount_2/><NovatedCurrency/><NovatedCurrency_2/><NovatedFV/><FullFirstCalculationPeriod><xsl:value-of select="$swLongFormTrade//fpml:novation/fpml:fullFirstCalculationPeriod"/></FullFirstCalculationPeriod><NonReliance><xsl:if test="$swLongFormTrade//fpml:novation"><xsl:value-of select="boolean($swLongFormTrade//fpml:novation/fpml:nonReliance)"/></xsl:if></NonReliance><PreserveEarlyTerminationProvision/><CopyPremiumToNewTrade/><IntendedClearingHouse><xsl:if test="$productType='CDS Index' or $productType='CDS Matrix'"><xsl:value-of select="$swTradeHeader/fpml:swClearingHouse/fpml:partyId"/></xsl:if></IntendedClearingHouse><xsl:if test="$swLongFormTrade and $productType='CDS Index'"><xsl:apply-templates select="$swExtendedTradeDetails/fpml:additionalPayment"/></xsl:if><xsl:if test="$swLongFormTrade/fpml:novation/fpml:payment"><xsl:apply-templates select="$swLongFormTrade/fpml:novation/fpml:payment"/></xsl:if><OptionStyle/><OptionType/><OptionExpirationDate/><OptionExpirationDateConvention/><OptionHolidayCenters/><OptionEarliestTime/><OptionEarliestTimeHolidayCentre/><OptionExpiryTime/><OptionExpiryTimeHolidayCentre/><OptionSpecificExpiryTime/><OptionLocation/><OptionCalcAgent/><OptionAutomaticExercise/><OptionThreshold/><ManualExercise/><OptionWrittenExerciseConf/><PremiumAmount/><PremiumCurrency/><PremiumPaymentDate/><PremiumHolidayCentres/><Strike/><StrikeCurrency/><StrikePercentage/><StrikeDate/><OptionSettlement/><OptionCashSettlementValuationTime/><OptionSpecificValuationTime/><OptionCashSettlementValuationDate/><OptionCashSettlementPaymentDate/><OptionCashSettlementMethod/><OptionCashSettlementQuotationRate/><OptionCashSettlementRateSource/><OptionCashSettlementReferenceBanks/><ClearedPhysicalSettlement/><xsl:variable name="swClearingTakeup" select="$idm140299544283280-3/fpml:swExtendedTradeDetails/fpml:swTradeHeader/fpml:swClearingTakeup"/><ClearingTakeupClientId><xsl:value-of select="$swClearingTakeup/fpml:swClient/fpml:partyId"/></ClearingTakeupClientId><ClearingTakeupClientName><xsl:value-of select="$swClearingTakeup/fpml:swClient/fpml:partyName"/></ClearingTakeupClientName><ClearingTakeupClientTradeId><xsl:value-of select="$swClearingTakeup/fpml:swClient/fpml:tradeId"/></ClearingTakeupClientTradeId><ClearingTakeupExecSrcId><xsl:value-of select="$swClearingTakeup/fpml:swExecutionSource/fpml:partyId"/></ClearingTakeupExecSrcId><ClearingTakeupExecSrcName><xsl:value-of select="$swClearingTakeup/fpml:swExecutionSource/fpml:partyName"/></ClearingTakeupExecSrcName><ClearingTakeupExecSrcTradeId><xsl:value-of select="$swClearingTakeup/fpml:swExecutionSource/fpml:tradeId"/></ClearingTakeupExecSrcTradeId><ClearingTakeupCorrelationId><xsl:value-of select="$swClearingTakeup/fpml:swCorrelationId"/></ClearingTakeupCorrelationId><ClearingTakeupClearingHouseTradeId><xsl:value-of select="$swClearingTakeup/fpml:swClearingHouseTradeId"/></ClearingTakeupClearingHouseTradeId><ClearingTakeupOriginatingEvent><xsl:value-of select="$swClearingTakeup/fpml:swOriginatingEvent"/></ClearingTakeupOriginatingEvent><ClearingTakeupBlockTradeId><xsl:value-of select="$swClearingTakeup/fpml:swBlockTradeId"/></ClearingTakeupBlockTradeId><ClearingTakeupSentBy><xsl:value-of select="$swClearingTakeup/fpml:swSentBy"/></ClearingTakeupSentBy><ClearingTakeupCreditTokenIssuer><xsl:value-of select="$swClearingTakeup/fpml:swCreditAcceptanceToken/fpml:swCreditIssuer"/></ClearingTakeupCreditTokenIssuer><ClearingTakeupCreditToken><xsl:value-of select="$swClearingTakeup/fpml:swCreditAcceptanceToken/fpml:swToken"/></ClearingTakeupCreditToken><ClearingTakeupClearingStatus><xsl:value-of select="$swClearingTakeup/fpml:swClearingStatus"/></ClearingTakeupClearingStatus><ClearingTakeupVenueLEI><xsl:value-of select="$swClearingTakeup/fpml:swVenueId"/></ClearingTakeupVenueLEI><ClearingTakeupVenueLEIScheme><xsl:value-of select="$swClearingTakeup/fpml:swVenueId/@swVenueIdScheme"/></ClearingTakeupVenueLEIScheme><DocsType><xsl:if test="$productType='CDS' or $productType='CDS Index'"><xsl:choose><xsl:when test="$documentation/fpml:masterConfirmation/fpml:masterConfirmationType"><xsl:value-of select="$documentation/fpml:masterConfirmation/fpml:masterConfirmationType"/></xsl:when><xsl:when test="$documentation/fpml:contractualTermsSupplement/fpml:type"><xsl:value-of select="$documentation/fpml:contractualTermsSupplement/fpml:type"/></xsl:when><xsl:otherwise>???</xsl:otherwise></xsl:choose></xsl:if><xsl:if test="$productType='CDS Master'"><xsl:variable name="docsType" select="string($documentation/fpml:masterConfirmation/fpml:masterConfirmationType)"/><xsl:choose><xsl:when test="$docsType='ISDA2003StandardCreditNorthAmerican'">Standard North American Corporate</xsl:when><xsl:when test="$docsType='ISDA2003CreditNorthAmerican'">North American Corporate</xsl:when><xsl:when test="$docsType='ISDA2003CreditEuropean'">European Corporate</xsl:when><xsl:when test="$docsType='ISDA2003StandardCreditEuropean'">Standard European Corporate</xsl:when><xsl:when test="$docsType='ISDA2003CreditAustraliaNewZealand'">Australia and New Zealand Corporate</xsl:when><xsl:when test="$docsType='ISDA2003StandardCreditAustraliaNewZealand'">Standard Australia and New Zealand Corporate</xsl:when><xsl:when test="$docsType='ISDA2003CreditJapan'">Japan Corporate</xsl:when><xsl:when test="$docsType='ISDA2003StandardCreditJapan'">Standard Japan Corporate</xsl:when><xsl:when test="$docsType='ISDA2003CreditSingapore'">Singapore Corporate</xsl:when><xsl:when test="$docsType='ISDA2003StandardCreditSingapore'">Standard Singapore Corporate</xsl:when><xsl:when test="$docsType='ISDA2003CreditAsia'">Asia Corporate</xsl:when><xsl:when test="$docsType='ISDA2003StandardCreditAsia'">Standard Asia Corporate</xsl:when><xsl:when test="$docsType='ISDA2004CreditSovereignAsia'">Asia Sovereign</xsl:when><xsl:when test="$docsType='ISDA2004StandardCreditSovereignAsia'">Standard Asia Sovereign</xsl:when><xsl:when test="$docsType='ISDA2004CreditSovereignEmergingEuropeanAndMiddleEastern'">Emerging European and Middle Eastern Sovereign</xsl:when><xsl:when test="$docsType='ISDA2004StandardCreditSovereignEmergingEuropeanAndMiddleEastern'">Standard Emerging European and Middle Eastern Sovereign</xsl:when><xsl:when test="$docsType='ISDA2004CreditSovereignJapan'">Japan Sovereign</xsl:when><xsl:when test="$docsType='ISDA2004StandardCreditSovereignJapan'">Standard Japan Sovereign</xsl:when><xsl:when test="$docsType='ISDA2004CreditSovereignLatinAmerican'">Latin America Sovereign</xsl:when><xsl:when test="$docsType='ISDA2004StandardCreditSovereignLatinAmerican'">Standard Latin America Sovereign</xsl:when><xsl:when test="$docsType='ISDA2004CreditSovereignWesternEuropean'">Western European Sovereign</xsl:when><xsl:when test="$docsType='ISDA2004StandardCreditSovereignWesternEuropean'">Standard Western European Sovereign</xsl:when><xsl:when test="$docsType='StandardUSMunicipalFullFaithAndCredit'">Standard US Municipal Full Faith And Credit</xsl:when><xsl:when test="$docsType='StandardUSMunicipalGeneralFund'">Standard US Municipal General Fund</xsl:when><xsl:when test="$docsType='StandardUSMunicipalRevenue'">Standard US Municipal Revenue</xsl:when><xsl:when test="$docsType='2014CreditAsia'">Asia Corporate</xsl:when><xsl:when test="$docsType='2014StandardCreditAsia'">Standard Asia Corporate</xsl:when><xsl:when test="$docsType='2014CreditAsiaFinancial'">Asia Financial Corporate</xsl:when><xsl:when test="$docsType='2014StandardCreditAsiaFinancial'">Standard Asia Financial Corporate</xsl:when><xsl:when test="$docsType='2014CreditSovereignAsia'">Asia Sovereign</xsl:when><xsl:when test="$docsType='2014StandardCreditSovereignAsia'">Standard Asia Sovereign</xsl:when><xsl:when test="$docsType='2014CreditAustraliaNewZealand'">Australia and New Zealand Corporate</xsl:when><xsl:when test="$docsType='2014StandardCreditAustraliaNewZealand'">Standard Australia and New Zealand Corporate</xsl:when><xsl:when test="$docsType='2014CreditAustraliaNewZealandFinancial'">Australia and New Zealand Financial Corporate</xsl:when><xsl:when test="$docsType='2014StandardCreditAustraliaNewZealandFinancial'">Standard Australia and New Zealand Financial Corporate</xsl:when><xsl:when test="$docsType='2014CreditSovereignEmergingEuropeanAndMiddleEastern'">Emerging European and Middle Eastern Sovereign</xsl:when><xsl:when test="$docsType='2014StandardCreditSovereignEmergingEuropeanAndMiddleEastern'">Standard Emerging European and Middle Eastern Sovereign</xsl:when><xsl:when test="$docsType='2014CreditEuropean'">European Corporate</xsl:when><xsl:when test="$docsType='2014StandardCreditEuropean'">Standard European Corporate</xsl:when><xsl:when test="$docsType='2014CreditEuropeanFinancial'">European Financial Corporate</xsl:when><xsl:when test="$docsType='2014StandardCreditEuropeanFinancial'">Standard European Financial Corporate</xsl:when><xsl:when test="$docsType='2014CreditJapan'">Japan Corporate</xsl:when><xsl:when test="$docsType='2014StandardCreditJapan'">Standard Japan Corporate</xsl:when><xsl:when test="$docsType='2014CreditJapanFinancial'">Japan Financial Corporate</xsl:when><xsl:when test="$docsType='2014StandardCreditJapanFinancial'">Standard Japan Financial Corporate</xsl:when><xsl:when test="$docsType='2014CreditSovereignJapan'">Japan Sovereign</xsl:when><xsl:when test="$docsType='2014StandardCreditSovereignJapan'">Standard Japan Sovereign</xsl:when><xsl:when test="$docsType='2014CreditSovereignLatinAmerican'">Latin America Sovereign</xsl:when><xsl:when test="$docsType='2014StandardCreditSovereignLatinAmerican'">Standard Latin America Sovereign</xsl:when><xsl:when test="$docsType='2014CreditSovereignWesternEuropean'">Western European Sovereign</xsl:when><xsl:when test="$docsType='2014StandardCreditSovereignWesternEuropean'">Standard Western European Sovereign</xsl:when><xsl:when test="$docsType='2014StandardCreditNorthAmerican'">Standard North American Corporate</xsl:when><xsl:when test="$docsType='2014CreditNorthAmerican'">North American Corporate</xsl:when><xsl:when test="$docsType='2014StandardCreditNorthAmericanFinancial'">Standard North American Financial Corporate</xsl:when><xsl:when test="$docsType='2014CreditNorthAmericanFinancial'">North American Financial Corporate</xsl:when><xsl:when test="$docsType='2014CreditSingapore'">Singapore Corporate</xsl:when><xsl:when test="$docsType='2014StandardCreditSingapore'">Standard Singapore Corporate</xsl:when><xsl:when test="$docsType='2014CreditSingaporeFinancial'">Singapore Financial Corporate</xsl:when><xsl:when test="$docsType='2014StandardCreditSingaporeFinancial'">Standard Singapore Financial Corporate</xsl:when><xsl:when test="$docsType='2014CreditEuropeanCoCoFinancial'">European CoCo Financial Corporate</xsl:when><xsl:when test="$docsType='2014StandardCreditEuropeanCoCoFinancial'">Standard European CoCo Financial Corporate</xsl:when><xsl:otherwise><xsl:value-of select="$docsType"/></xsl:otherwise></xsl:choose></xsl:if><xsl:if test="$productType='CDS Matrix'"><xsl:variable name="docsType" select="string($documentation/fpml:contractualMatrix/fpml:matrixTerm)"/><xsl:choose><xsl:when test="$docsType='StandardNorthAmericanCorporate'">Standard North American Corporate</xsl:when><xsl:when test="$docsType='NorthAmericanCorporate'">North American Corporate</xsl:when><xsl:when test="$docsType='StandardNorthAmericanFinancialCorporate'">Standard North American Financial Corporate</xsl:when><xsl:when test="$docsType='NorthAmericanFinancialCorporate'">North American Financial Corporate</xsl:when><xsl:when test="$docsType='EuropeanCorporate'">European Corporate</xsl:when><xsl:when test="$docsType='EuropeanLimitedRecourseCorporate'">European Limited Recourse Corporate</xsl:when><xsl:when test="$docsType='StandardEuropeanCorporate'">Standard European Corporate</xsl:when><xsl:when test="$docsType='StandardEuropeanLimitedRecourseCorporate'">Standard European Limited Recourse Corporate</xsl:when><xsl:when test="$docsType='EuropeanFinancialCorporate'">European Financial Corporate</xsl:when><xsl:when test="$docsType='StandardEuropeanFinancialCorporate'">Standard European Financial Corporate</xsl:when><xsl:when test="$docsType='EuropeanCoCoFinancialCorporate'">European CoCo Financial Corporate</xsl:when><xsl:when test="$docsType='StandardEuropeanCoCoFinancialCorporate'">Standard European CoCo Financial Corporate</xsl:when><xsl:when test="$docsType='EuropeanSeniorNonPreferredFinancialCorporate'">European Senior Non Preferred Financial Corporate</xsl:when><xsl:when test="$docsType='StandardEuropeanSeniorNonPreferredFinancialCorporate'">Standard European Senior Non Preferred Financial Corporate</xsl:when><xsl:when test="$docsType='AustraliaCorporate'">Australia Corporate</xsl:when><xsl:when test="$docsType='StandardAustraliaCorporate'">Standard Australia Corporate</xsl:when><xsl:when test="$docsType='AustraliaFinancialCorporate'">Australia Financial Corporate</xsl:when><xsl:when test="$docsType='StandardAustraliaFinancialCorporate'">Standard Australia Financial Corporate</xsl:when><xsl:when test="$docsType='NewZealandCorporate'">New Zealand Corporate</xsl:when><xsl:when test="$docsType='StandardNewZealandCorporate'">Standard New Zealand Corporate</xsl:when><xsl:when test="$docsType='NewZealandFinancialCorporate'">New Zealand Financial Corporate</xsl:when><xsl:when test="$docsType='StandardNewZealandFinancialCorporate'">Standard New Zealand Financial Corporate</xsl:when><xsl:when test="$docsType='JapanCorporate'">Japan Corporate</xsl:when><xsl:when test="$docsType='StandardJapanCorporate'">Standard Japan Corporate</xsl:when><xsl:when test="$docsType='JapanFinancialCorporate'">Japan Financial Corporate</xsl:when><xsl:when test="$docsType='StandardJapanFinancialCorporate'">Standard Japan Financial Corporate</xsl:when><xsl:when test="$docsType='SingaporeCorporate'">Singapore Corporate</xsl:when><xsl:when test="$docsType='StandardSingaporeCorporate'">Standard Singapore Corporate</xsl:when><xsl:when test="$docsType='SingaporeFinancialCorporate'">Singapore Financial Corporate</xsl:when><xsl:when test="$docsType='StandardSingaporeFinancialCorporate'">Standard Singapore Financial Corporate</xsl:when><xsl:when test="$docsType='AsiaCorporate'">Asia Corporate</xsl:when><xsl:when test="$docsType='StandardAsiaCorporate'">Standard Asia Corporate</xsl:when><xsl:when test="$docsType='AsiaFinancialCorporate'">Asia Financial Corporate</xsl:when><xsl:when test="$docsType='StandardAsiaFinancialCorporate'">Standard Asia Financial Corporate</xsl:when><xsl:when test="$docsType='SubordinatedEuropeanInsuranceCorporate'">Subordinated European Insurance Corporate</xsl:when><xsl:when test="$docsType='StandardSubordinatedEuropeanInsuranceCorporate'">Standard Subordinated European Insurance Corporate</xsl:when><xsl:when test="$docsType='EmergingEuropeanCorporate'">Emerging European Corporate</xsl:when><xsl:when test="$docsType='StandardEmergingEuropeanCorporate'">Standard Emerging European Corporate</xsl:when><xsl:when test="$docsType='EmergingEuropeanFinancialCorporate'">Emerging European Financial Corporate</xsl:when><xsl:when test="$docsType='StandardEmergingEuropeanFinancialCorporate'">Standard Emerging European Financial Corporate</xsl:when><xsl:when test="$docsType='EmergingEuropeanCorporateLPN'">Emerging European Corporate LPN</xsl:when><xsl:when test="$docsType='StandardEmergingEuropeanCorporateLPN'">Standard Emerging European Corporate LPN</xsl:when><xsl:when test="$docsType='EmergingEuropeanFinancialCorporateLPN'">Emerging European Financial Corporate LPN</xsl:when><xsl:when test="$docsType='StandardEmergingEuropeanFinancialCorporateLPN'">Standard Emerging European Financial Corporate LPN</xsl:when><xsl:when test="$docsType='LatinAmericaCorporate'">Latin America Corporate</xsl:when><xsl:when test="$docsType='LatinAmericaCorporateBond'">Latin America Corporate Bond</xsl:when><xsl:when test="$docsType='LatinAmericaFinancialCorporateBond'">Latin America Financial Corporate Bond</xsl:when><xsl:when test="$docsType='StandardLatinAmericaCorporateBond'">Standard Latin America Corporate Bond</xsl:when><xsl:when test="$docsType='StandardLatinAmericaFinancialCorporateBond'">Standard Latin America Financial Corporate Bond</xsl:when><xsl:when test="$docsType='LatinAmericaCorporateBondOrLoan'">Latin America Corporate Bond Or Loan</xsl:when><xsl:when test="$docsType='LatinAmericaFinancialCorporateBondOrLoan'">Latin America Financial Corporate Bond Or Loan</xsl:when><xsl:when test="$docsType='StandardLatinAmericaCorporateBondOrLoan'">Standard Latin America Corporate Bond Or Loan</xsl:when><xsl:when test="$docsType='StandardLatinAmericaFinancialCorporateBondOrLoan'">Standard Latin America Financial Corporate Bond Or Loan</xsl:when><xsl:when test="$docsType='AsiaSovereign'">Asia Sovereign</xsl:when><xsl:when test="$docsType='StandardAsiaSovereign'">Standard Asia Sovereign</xsl:when><xsl:when test="$docsType='EmergingEuropeanAndMiddleEasternSovereign'">Emerging European and Middle Eastern Sovereign</xsl:when><xsl:when test="$docsType='StandardEmergingEuropeanAndMiddleEasternSovereign'">Standard Emerging European and Middle Eastern Sovereign</xsl:when><xsl:when test="$docsType='JapanSovereign'">Japan Sovereign</xsl:when><xsl:when test="$docsType='StandardJapanSovereign'">Standard Japan Sovereign</xsl:when><xsl:when test="$docsType='AustraliaSovereign'">Australia Sovereign</xsl:when><xsl:when test="$docsType='StandardAustraliaSovereign'">Standard Australia Sovereign</xsl:when><xsl:when test="$docsType='NewZealandSovereign'">New Zealand Sovereign</xsl:when><xsl:when test="$docsType='StandardNewZealandSovereign'">Standard New Zealand Sovereign</xsl:when><xsl:when test="$docsType='SingaporeSovereign'">Singapore Sovereign</xsl:when><xsl:when test="$docsType='StandardSingaporeSovereign'">Standard Singapore Sovereign</xsl:when><xsl:when test="$docsType='LatinAmericaSovereign'">Latin America Sovereign</xsl:when><xsl:when test="$docsType='StandardLatinAmericaSovereign'">Standard Latin America Sovereign</xsl:when><xsl:when test="$docsType='WesternEuropeanSovereign'">Western European Sovereign</xsl:when><xsl:when test="$docsType='StandardWesternEuropeanSovereign'">Standard Western European Sovereign</xsl:when><xsl:when test="$docsType='StandardUSMunicipalFullFaithAndCredit'">Standard US Municipal Full Faith And Credit</xsl:when><xsl:when test="$docsType='StandardUSMunicipalGeneralFund'">Standard US Municipal General Fund</xsl:when><xsl:when test="$docsType='StandardUSMunicipalRevenue'">Standard US Municipal Revenue</xsl:when><xsl:when test="$docsType='USMunicipalFullFaithAndCredit'">US Municipal Full Faith And Credit</xsl:when><xsl:when test="$docsType='USMunicipalGeneralFund'">US Municipal General Fund</xsl:when><xsl:when test="$docsType='USMunicipalRevenue'">US Municipal Revenue</xsl:when><xsl:when test="$docsType='SukukCorporate'">Sukuk Corporate</xsl:when><xsl:when test="$docsType='StandardSukukCorporate'">Standard Sukuk Corporate</xsl:when><xsl:when test="$docsType='SukukFinancialCorporate'">Sukuk Financial Corporate</xsl:when><xsl:when test="$docsType='StandardSukukFinancialCorporate'">Standard Sukuk Financial Corporate</xsl:when><xsl:when test="$docsType='SukukSovereign'">Sukuk Sovereign</xsl:when><xsl:when test="$docsType='StandardSukukSovereign'">Standard Sukuk Sovereign</xsl:when><xsl:otherwise><xsl:value-of select="$docsType"/></xsl:otherwise></xsl:choose></xsl:if></DocsType><DocsSubType/><ContractualDefinitions><xsl:choose><xsl:when test="$documentation/fpml:contractualDefinitions"><xsl:apply-templates select="$documentation"/></xsl:when><xsl:otherwise><xsl:if test="$productType='CDS Matrix'"><xsl:variable name="docsType" select="string($documentation/fpml:contractualMatrix/fpml:matrixTerm)"/><xsl:choose><xsl:when test="$docsType='StandardNorthAmericanFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='NorthAmericanFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='EuropeanFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='StandardEuropeanFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='EuropeanCoCoFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='StandardEuropeanCoCoFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='EuropeanSeniorNonPreferredFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='StandardEuropeanSeniorNonPreferredFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='AustraliaFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='StandardAustraliaFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='NewZealandFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='StandardNewZealandFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='JapanFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='StandardJapanFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='SingaporeFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='StandardSingaporeFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='AsiaFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='StandardAsiaFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='EmergingEuropeanFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='StandardEmergingEuropeanFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='EmergingEuropeanFinancialCorporateLPN'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='StandardEmergingEuropeanFinancialCorporateLPN'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='LatinAmericaFinancialCorporateBond'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='StandardLatinAmericaFinancialCorporateBond'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='LatinAmericaFinancialCorporateBondOrLoan'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='StandardLatinAmericaFinancialCorporateBondOrLoan'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='SukukFinancialCorporate'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='StandardSukukFinancialCorporate'">ISDA2014Credit</xsl:when></xsl:choose></xsl:if><xsl:if test="$productType='CDS Master'"><xsl:variable name="docsType" select="string($documentation/fpml:masterConfirmation/fpml:masterConfirmationType)"/><xsl:choose><xsl:when test="$docsType='2014CreditAsia'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditAsia'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditAsiaFinancial'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditAsiaFinancial'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditSovereignAsia'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditSovereignAsia'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditAustraliaNewZealand'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditAustraliaNewZealand'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditAustraliaNewZealandFinancial'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditAustraliaNewZealandFinancial'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditSovereignEmergingEuropeanAndMiddleEastern'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditSovereignEmergingEuropeanAndMiddleEastern'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditEuropean'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditEuropean'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditEuropeanFinancial'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditEuropeanFinancial'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditJapan'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditJapan'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditJapanFinancial'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditJapanFinancial'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditSovereignJapan'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditSovereignJapan'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditSovereignLatinAmerican'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditSovereignLatinAmerican'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditSovereignWesternEuropean'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditSovereignWesternEuropean'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditNorthAmerican'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditNorthAmerican'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditNorthAmericanFinancial'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditNorthAmericanFinancial'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditSingapore'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditSingapore'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditSingaporeFinancial'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditSingaporeFinancial'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014CreditEuropeanCoCoFinancial'">ISDA2014Credit</xsl:when><xsl:when test="$docsType='2014StandardCreditEuropeanCoCoFinancial'">ISDA2014Credit</xsl:when></xsl:choose></xsl:if></xsl:otherwise></xsl:choose></ContractualDefinitions><ContractualSupplement/><CanadianSupplement/><ExchangeTradedContractNearest/><RestructuringCreditEvent><xsl:if test="$productType='CDS Matrix' or $productType='CDS Master'"><xsl:value-of select="boolean($protectionTerms/fpml:creditEvents/fpml:restructuring)"/></xsl:if></RestructuringCreditEvent><CalculationAgentCity><xsl:value-of select="$trade/fpml:calculationAgentBusinessCenter"/></CalculationAgentCity><RefEntName><xsl:if test="$productType='CDS' or $productType='CDS Matrix' or $productType='CDS Master'"><xsl:value-of select="$referenceInformation/fpml:referenceEntity/fpml:entityName"/></xsl:if></RefEntName><RefEntStdId><xsl:if test="$productType='CDS' or $productType='CDS Matrix' or $productType='CDS Master'"><xsl:variable name="entityCLIP" select="string($referenceInformation/fpml:referenceEntity/fpml:entityId)"/><xsl:value-of select="translate($entityCLIP,'abcdefghijklmnopqrstuvwxyz','ABCDEFGHIJKLMNOPQRSTUVWXYZ')"/></xsl:if></RefEntStdId><REROPairStdId><xsl:if test="$productType='CDS' or $productType='CDS Matrix' or $productType='CDS Master'"><xsl:variable name="pairCLIP" select="string($bond/fpml:instrumentId[@instrumentIdScheme='http://www.fpml.org/spec/2003/instrument-id-RED-pair-1-0'])"/><xsl:value-of select="translate($pairCLIP,'abcdefghijklmnopqrstuvwxyz','ABCDEFGHIJKLMNOPQRSTUVWXYZ')"/></xsl:if></REROPairStdId><RefOblRERole><xsl:if test="$productType='CDS' or $productType='CDS Matrix' or $productType='CDS Master'"><xsl:choose><xsl:when test="$referenceObligation/fpml:primaryObligorReference">I</xsl:when><xsl:when test="$referenceObligation/fpml:guarantorReference">G</xsl:when><xsl:otherwise/></xsl:choose></xsl:if></RefOblRERole><xsl:variable name="isin" select="$underlyerInstrumentId[@instrumentIdScheme='http://www.fpml.org/spec/2002/instrument-id-ISIN-1-0']"/><xsl:variable name="cusip" select="$underlyerInstrumentId[@instrumentIdScheme='http://www.fpml.org/spec/2002/instrument-id-CUSIP-1-0']"/><RefOblSecurityIdType><xsl:if test="$referenceObligation and                          ($productType='CDS' or                                        $productType='CDS Matrix' or                               $productType='CDS Master')"><xsl:choose><xsl:when test="$isin">ISIN</xsl:when><xsl:when test="$cusip">CUSIP</xsl:when></xsl:choose></xsl:if></RefOblSecurityIdType><RefOblSecurityId><xsl:if test="$referenceObligation"><xsl:choose><xsl:when test="$isin"><xsl:value-of select="translate($isin,'abcdefghijklmnopqrstuvwxyz','ABCDEFGHIJKLMNOPQRSTUVWXYZ')"/></xsl:when><xsl:when test="$cusip"><xsl:value-of select="translate($cusip,'abcdefghijklmnopqrstuvwxyz','ABCDEFGHIJKLMNOPQRSTUVWXYZ')"/></xsl:when></xsl:choose></xsl:if></RefOblSecurityId><BloombergID><xsl:choose><xsl:when test="$underlyerInstrumentId[@instrumentIdScheme='http://www.fpml.org/spec/2002/instrument-id-Bloomberg']"><xsl:value-of select="$underlyerInstrumentId[@instrumentIdScheme='http://www.fpml.org/spec/2002/instrument-id-Bloomberg']"/></xsl:when><xsl:when test="$referenceInformation/fpml:referenceEntity/fpml:entityId[@entityIdScheme='http://www.fpml.org/spec/2003/entity-id-Bloomberg']"><xsl:value-of select="$referenceInformation/fpml:referenceEntity/fpml:entityId[@entityIdScheme='http://www.fpml.org/spec/2003/entity-id-Bloomberg']"/></xsl:when></xsl:choose></BloombergID><RefOblMaturity><xsl:if test="$referenceObligation and                                ($productType='CDS' or                                $productType='CDS Matrix' or                               $productType='CDS Master')"><xsl:choose><xsl:when test="$bond/fpml:maturity"><xsl:call-template name="formatDate"><xsl:with-param name="date" select="$bond/fpml:maturity"/></xsl:call-template></xsl:when><xsl:otherwise/></xsl:choose></xsl:if></RefOblMaturity><RefOblCoupon><xsl:if test="($productType='CDS' or $productType='CDS Matrix' or $productType='CDS Master') and $referenceObligation"><xsl:value-of select="$bond/fpml:couponRate"/></xsl:if></RefOblCoupon><RefOblPrimaryObligor><xsl:if test="($productType='CDS' or $productType='CDS Matrix' or $productType='CDS Master') and $referenceObligation"><xsl:value-of select="$referenceObligation/fpml:primaryObligor/fpml:entityName"/></xsl:if></RefOblPrimaryObligor><BorrowerNames><xsl:for-each select="$loan/fpml:borrower"><xsl:value-of select="fpml:entityName"/><xsl:if test="position()!=count(../fpml:borrower)">; </xsl:if></xsl:for-each></BorrowerNames><FacilityType><xsl:value-of select="$loan/fpml:facilityType"/></FacilityType><CreditAgreementDate><xsl:value-of select="$loan/fpml:creditAgreementDate"/></CreditAgreementDate><IsSecuredList><xsl:value-of select="$referenceInformation/fpml:securedList"/></IsSecuredList><ObligationCategory><xsl:value-of select="$protectionTerms/fpml:obligations/fpml:category"/></ObligationCategory><DesignatedPriority><xsl:value-of select="$protectionTerms/fpml:obligations/fpml:designatedPriority"/></DesignatedPriority><CreditDateAdjustments><Convention><xsl:value-of select="$trade//fpml:creditDefaultSwap/fpml:generalTerms/fpml:dateAdjustments/fpml:businessDayConvention"/></Convention><Holidays><xsl:apply-templates select="$trade//fpml:creditDefaultSwap/fpml:generalTerms/fpml:dateAdjustments/fpml:businessCenters"/></Holidays></CreditDateAdjustments><OptionalEarlyTermination><xsl:variable name="additionalTerm" select="string($trade//fpml:creditDefaultSwap/fpml:generalTerms/fpml:additionalTerm)"/><xsl:value-of select="boolean($additionalTerm='OptionalEarlyTermination')"/></OptionalEarlyTermination><ReferencePrice><xsl:value-of select="$referenceInformation/fpml:referencePrice"/></ReferencePrice><ReferencePolicy><xsl:value-of select="boolean($referenceInformation/fpml:referencePolicy)"/></ReferencePolicy><PaymentDelay><xsl:value-of select="$feeLeg/fpml:paymentDelay"/></PaymentDelay><StepUpProvision><xsl:value-of select="boolean($floatingAmountEvents/fpml:floatingAmountProvisions/fpml:stepUpProvision)"/></StepUpProvision><WACCapInterestProvision><xsl:value-of select="boolean($floatingAmountEvents/fpml:floatingAmountProvisions/fpml:WACCapInterestProvision)"/></WACCapInterestProvision><InterestShortfallCapIndicator><xsl:value-of select="boolean($floatingAmountEvents/fpml:interestShortfall)"/></InterestShortfallCapIndicator><InterestShortfallCompounding><xsl:value-of select="$floatingAmountEvents/fpml:interestShortfall/fpml:compounding"/></InterestShortfallCompounding><InterestShortfallCapBasis><xsl:value-of select="$floatingAmountEvents/fpml:interestShortfall/fpml:interestShortfallCap"/></InterestShortfallCapBasis><InterestShortfallRateSource><xsl:value-of select="$floatingAmountEvents/fpml:interestShortfall/fpml:rateSource"/></InterestShortfallRateSource><MortgagePaymentFrequency><xsl:value-of select="$mortgage/fpml:paymentFrequency/fpml:periodMultiplier"/><xsl:value-of select="$mortgage/fpml:paymentFrequency/fpml:period"/></MortgagePaymentFrequency><MortgageFinalMaturity><xsl:value-of select="$mortgage/fpml:maturity"/></MortgageFinalMaturity><MortgageOriginalAmount><xsl:value-of select="$mortgage/fpml:originalPrincipalAmount"/></MortgageOriginalAmount><MortgageInitialFactor><xsl:value-of select="$mortgage/fpml:pool/fpml:initialFactor"/></MortgageInitialFactor><MortgageSector><xsl:value-of select="$mortgage/fpml:sector"/></MortgageSector><MortgageInsurer><xsl:value-of select="$mortgage/fpml:insurer/fpml:entityName"/></MortgageInsurer><IndexName><xsl:value-of select="$indexReferenceInformation/fpml:indexName"/></IndexName><IndexId><xsl:value-of select="$indexReferenceInformation/fpml:indexId"/></IndexId><IndexAnnexDate><xsl:value-of select="$indexReferenceInformation/fpml:indexAnnexDate"/></IndexAnnexDate><IndexTradedRate><xsl:if test="($productType='CDS Matrix' and $swTradeHeader/fpml:swClientClearing = 'true') or $productType='CDS Index' or $productType='CDS Master'"><xsl:value-of select="$feeLeg/fpml:marketFixedRate"/></xsl:if></IndexTradedRate><UpfrontFee><xsl:value-of select="boolean($feeLeg/fpml:initialPayment)"/></UpfrontFee><UpfrontFeeAmount><xsl:value-of select="$feeLeg/fpml:initialPayment/fpml:paymentAmount/fpml:amount"/></UpfrontFeeAmount><UpfrontFeeCurrency><xsl:value-of select="$feeLeg/fpml:initialPayment/fpml:paymentAmount/fpml:currency"/></UpfrontFeeCurrency><UpfrontFeeDate><xsl:for-each select="$feeLeg/fpml:initialPayment/fpml:adjustablePaymentDate[$productType='CDS Master' or $productType='CDS Matrix']"><xsl:call-template name="formatDate"/></xsl:for-each></UpfrontFeeDate><UpfrontFeePayer><xsl:if test="$feeLeg/fpml:initialPayment"><xsl:variable name="payer" select="string($feeLeg/fpml:initialPayment/fpml:payerPartyReference/@href)"/><xsl:choose><xsl:when test="$payer=$partyA">A</xsl:when><xsl:when test="$payer=$partyB">B</xsl:when><xsl:otherwise>???</xsl:otherwise></xsl:choose></xsl:if></UpfrontFeePayer><AttachmentPoint><xsl:value-of select="$indexReferenceInformation/fpml:tranche/fpml:attachmentPoint"/></AttachmentPoint><ExhaustionPoint><xsl:value-of select="$indexReferenceInformation/fpml:tranche/fpml:exhaustionPoint"/></ExhaustionPoint><PublicationDate><xsl:value-of select="$documentation/fpml:contractualTermsSupplement/fpml:publicationDate"/></PublicationDate><MasterAgreementDate><xsl:value-of select="$documentation/fpml:masterAgreement/fpml:masterAgreementDate"/></MasterAgreementDate><MasterAgreementVersion/><AmendmentTradeDate><xsl:value-of select="$swTradeHeader/fpml:swAmendmentTradeDate"/></AmendmentTradeDate><SettlementCurrency/><ReferenceCurrency/><SettlementRateOption/><NonDeliverable/><FxFixingDate><FxFixingAdjustableDate/><FxFixingPeriod/><FxFixingDayConvention/><FxFixingCentres/></FxFixingDate><SettlementCurrency_2/><ReferenceCurrency_2/><SettlementRateOption_2/><FxFixingDate_2><FxFixingPeriod_2/><FxFixingDayConvention_2/><FxFixingCentres_2/></FxFixingDate_2><OutsideNovationTradeDate/><OutsideNovationNovationDate/><OutsideNovationOutgoingParty/><OutsideNovationIncomingParty/><OutsideNovationRemainingParty/><OutsideNovationFullFirstCalculationPeriod/><xsl:variable name="calcAgentRef" select="string($trade//fpml:calculationAgent/fpml:calculationAgentPartyReference/@href)"/><xsl:variable name="buyerPartyRef" select="string($generalTerms/fpml:buyerPartyReference/@href)"/><CalcAgentA><xsl:choose><xsl:when test="$productType='CDS Matrix'"><xsl:choose><xsl:when test="$trade/fpml:calculationAgent/fpml:calculationAgentParty[.='AsSpecifiedInMasterAgreement']">As Specified in Master Agreement</xsl:when><xsl:when test="$calcAgentRef=$buyerPartyRef">Buyer</xsl:when><xsl:otherwise>Seller</xsl:otherwise></xsl:choose></xsl:when><xsl:when test="$productType='CDS Index'"><xsl:choose><xsl:when test="$trade/fpml:calculationAgent/fpml:calculationAgentParty[.='AsSpecifiedInMasterAgreement']">As Specified in Master Agreement</xsl:when><xsl:when test="$calcAgentRef=$buyerPartyRef">Buy</xsl:when><xsl:otherwise>Sell</xsl:otherwise></xsl:choose></xsl:when><xsl:otherwise><xsl:choose><xsl:when test="$calcAgentRef=$buyerPartyRef">Buy</xsl:when><xsl:otherwise>Sell</xsl:otherwise></xsl:choose></xsl:otherwise></xsl:choose></CalcAgentA><AmendmentType/><CancellationType/><OfflineLeg1/><OfflineLeg2/><OfflineSpread/><OfflineSpreadLeg/><OfflineSpreadParty/><OfflineSpreadDirection/><OfflineAdditionalDetails/><OfflineOrigRef/><OfflineOrigRef_2/><OfflineTradeDesk/><OfflineTradeDesk_2/><OfflineProductType/><OfflineExpirationDate/><OfflineOptionType/><EquityRic/><OptionQuantity/><OptionNumberOfShares/><Price/><PricePerOptionCurrency/><ExchangeLookAlike/><AdjustmentMethod/><MasterConfirmationDate><xsl:value-of select="$documentation/fpml:masterConfirmation/fpml:masterConfirmationDate"/></MasterConfirmationDate><Multiplier/><OptionExchange/><RelatedExchange/><DefaultSettlementMethod/><SettlementPriceDefaultElectionMethod/><DesignatedContract/><FxDeterminationMethod/><SWFXRateSource/><SWFXRateSourcePage/><SWFXHourMinuteTime/><SWFXBusinessCenter/><SettlementMethodElectionDate/><SettlementMethodElectingParty/><SettlementDateOffset/><SettlementType/><MultipleExchangeIndexAnnex/><ComponentSecurityIndexAnnex/><LocalJurisdiction/><OptionHedgingDisruption/><OptionLossOfStockBorrow/><OptionMaximumStockLoanRate/><OptionIncreasedCostOfStockBorrow/><OptionInitialStockLoanRate/><OptionIncreasedCostOfHedging/><OptionForeignOwnershipEvent/><OptionEntitlement/><ReferencePriceSource/><ReferencePricePage/><ReferencePriceTime/><ReferencePriceCity/><MinimumNumberOfOptions/><IntegralMultiple/><MaximumNumberOfOptions/><ExerciseCommencementDate/><BermudaExerciseDates><BermudaExerciseDate/></BermudaExerciseDates><BermudaFrequency/><BermudaFirstDate/><BermudaFinalDate/><LatestExerciseTimeMethod/><LatestExerciseSpecificTime/><DcCurrency/><DcDelta/><DcEventTypeA/><DcExchange/><DcExpiryDate/><DcFuturesCode/><DcOffshoreCross/><DcOffshoreCrossLocation/><DcPrice/><DcQuantity/><DcRequired/><DcRic/><DcDescription/><AveragingInOut/><AveragingDateTimes/><MarketDisruption/><AveragingFrequency/><AveragingStartDate/><AveragingEndDate/><AveragingBusinessDayConvention/><ReferenceFXRate/><HedgeLevel/><Basis/><ImpliedLevel/><PremiumPercent/><StrikePercent/><BaseNotional/><BaseNotionalCurrency/><BreakOutTrade/><SplitCollateral/><OpenUnits/><DeclaredCashDividendPercentage/><DeclaredCashEquivalentDividendPercentage/><DividendPayer/><DividendReceiver/><DividendPeriods><DividendPeriod><DividendPeriodId/><UnadjustedStartDate/><UnadjustedEndDate/><PaymentDateReference/><FixedStrike/><DividendValuationDateReference/><DividendValuationDate/></DividendPeriod></DividendPeriods><SpecialDividends/><MaterialDividend/><FixedPayer/><FixedReceiver/><FixedPeriods/><EquityAveragingObservations><EquityAveragingObservation><EquityAveragingDate/><EquityAveragingWeight/></EquityAveragingObservation></EquityAveragingObservations><EquityInitialSpot/><EquityCap/><EquityCapPercentage/><EquityFloor/><EquityFloorPercentage/><EquityNotional/><EquityNotionalCurrency/><EquityFrequency/><EquityValuationMethod/><EquityFrequencyConvention/><EquityFreqFirstDate/><EquityFreqFinalDate/><EquityFreqRoll/><EquityListedValuationDates><EquityListedValuationDate/></EquityListedValuationDates><EquityListedDatesConvention/><StrategyType/><StrategyDeltaLeg/><StrategyDeltaQuantity/><StrategyComments/><StrategyLegs><StrategyLeg><SlDirectionA/><SlLegId/><SlExpirationDate/><SlNumberOfOptions/><SlOptionType/><SlPayAmount/><SlPricePerOptionAmount/><SlStrikePrice/><SlFwdStrikePercentage/><SlFwdStrikeDate/><SlPremiumPercent/><SlStrikePercent/><SlBaseNotional/></StrategyLeg></StrategyLegs><VegaNotional/><ExpectedN/><ExpectedNOverride/><VarianceAmount/><VarianceStrikePrice/><VolatilityStrikePrice/><VarianceCapIndicator/><VarianceCapFactor/><TotalVarianceCap/><TotalVolatilityCap/><ObservationStartDate/><ValuationDate/><InitialSharePriceOrIndexLevel/><ClosingSharePriceOrClosingIndexLevelIndicator/><FuturesPriceValuation/><AllDividends/><SettlementCurrencyVegaNotional/><VegaFxRate/><HolidayDates/><DispLegs><DispLeg><DispLegId/><DispLegVersionId/><DispLegPayer/><DispLegReceiver/><DispEquityRic/><DispEquityRelEx/><DispVegaNotional/><DispExpectedN/><DispSettlementDateOffset/><DispVarianceAmount/><DispShareVarCurrency/><DispVarianceStrikePrice/><DispVarianceCapIndicator/><DispVarianceCapFactor/><DispVegaNotionalAmount/><DispObservationStartDate/><DispValuationDate/><DispInitialLevel/><DispClosingLevelIndicator/><DispFuturesPriceValuation/><DispAllDividends/></DispLeg></DispLegs><DispLegsSW><DispLegSW><DispCorrespondingLeg/><DispVolatilityStrikePrice/><DispHolidayDates/><DispExpectedNOverride/><DispShareWeight/></DispLegSW></DispLegsSW><BulletIndicator/><DocsSelection/><NovationReporting><Novated/><NewNovated/></NovationReporting><InterestLegDrivenIndicator/><EquityFrontStub/><EquityEndStub/><InterestFrontStub/><InterestEndStub/><FixedRateIndicator/><EswFixingDateOffset/><DividendPaymentDates/><DividendPaymentOffset/><DividendPercentage/><DividendReinvestment/><EswDeclaredCashDividendPercentage/><EswDeclaredCashEquivalentDividendPercentage/><EswDividendSettlementCurrency/><EswNonCashDividendTreatment/><EswDividendComposition/><EswSpecialDividends/><EswDividendValuationOffset/><EswDividendValuationFrequency/><EswDividendInitialValuation/><EswDividendFinalValuation/><EswDividendValuationDay/><EswDividendValuationCustomDatesInterim><EswDividendValuationCustomDateInterim/></EswDividendValuationCustomDatesInterim><EswDividendValuationCustomDateFinal/><ExitReason/><TransactionDate/><EffectiveDate><xsl:choose><xsl:when test="$swTradeHeader/fpml:swAmendmentEffectiveDate"><xsl:value-of select="$swTradeHeader/fpml:swAmendmentEffectiveDate"/></xsl:when><xsl:when test="$swTradeHeader/fpml:swCancellationEffectiveDate"><xsl:value-of select="$swTradeHeader/fpml:swCancellationEffectiveDate"/></xsl:when><xsl:otherwise/></xsl:choose></EffectiveDate><EquityHolidayCentres/><OtherValuationBusinessCenters/><EswFuturesPriceValuation/><EswFpvFinalPriceElectionFallback/><EswDesignatedMaturity/><EswEquityValConvention/><EswInterestFloatConvention/><EswInterestFloatDayBasis/><EswInterestFloatingRateIndex/><EswInterestFixedRate/><EswInterestSpreadOverIndex/><EswLocalJurisdiction/><EswReferencePriceSource/><EswReferencePricePage/><EswReferencePriceTime/><EswReferencePriceCity/><EswNotionalAmount/><EswNotionalCurrency/><EswOpenUnits/><FeeIn/><FeeInOutIndicator/><FeeOut/><FinalPriceDefaultElection/><FinalValuationDate/><FullyFundedAmount/><FullyFundedIndicator/><InitialPrice/><InitialPriceElection/><EquityNotionalReset/><EswReferenceInitialPrice/><EswReferenceFXRate/><PaymentDateOffset/><PaymentFrequency/><EswFixingHolidayCentres/><EswPaymentHolidayCentres/><ReturnType/><Synthetic/><TerminationDate/><ValuationDay/><PaymentDay/><ValuationFrequency/><ValuationStartDate/><EswSchedulingMethod/><EswValuationDates/><EswFixingDates/><EswInterestLegPaymentDates/><EswEquityLegPaymentDates/><EswCompoundingDates/><EswCompoundingMethod/><EswCompoundingFrequency/><EswInterpolationMethod/><EswInterpolationPeriod/><EswAveragingDatesIndicator/><EswADTVIndicator/><EswLimitationPercentage/><EswLimitationPeriod/><EswStockLoanRateIndicator/><EswMaximumStockLoanRate/><EswInitialStockLoanRate/><EswOptionalEarlyTermination/><EswBreakFundingRecovery/><EswBreakFeeElection/><EswBreakFeeRate/><EswFinalPriceFee/><EswEarlyFinalValuationDateElection/><EswEarlyTerminationElectingParty/><EswInsolvencyFiling/><EswLossOfStockBorrow/><EswIncreasedCostOfStockBorrow/><EswBulletCompoundingSpread/><EswSpecifiedExchange/><EswCorporateActionFlag/><NCCreditProductType/><NCIndivTradeSummary><NCIndivNCMId/><NCIndivMWId/><NCIndivORFundId/><NCIndivORFund/><NCIndivRPFundId/><NCIndivRPFund/><NCIndivEEFundId/><NCIndivEEFund/><NCIndivNotionalAmount/><NCIndivNotionalCurrency/><NCIndivFeeAmount/><NCIndivFeeCurrency/><NCIndivStatus/></NCIndivTradeSummary><NCNovationBlockID><xsl:value-of select="$swExtendedTradeDetails/fpml:swInternalTradeDetails/fpml:swNovationBlockID"/></NCNovationBlockID><NCNCMID><xsl:value-of select="$swExtendedTradeDetails/fpml:swInternalTradeDetails/fpml:tradeId[@tradeIdScheme='NovationConsentId']"/></NCNCMID><NCRPOldTRN/><NCCEqualsCEligible><xsl:value-of select="$swExtendedTradeDetails/fpml:swInternalTradeDetails/fpml:ConsentConfirmationEligible"/></NCCEqualsCEligible><NCSummaryLinkID><xsl:value-of select="$swExtendedTradeDetails/fpml:swInternalTradeDetails/fpml:swSummaryLinkId"/></NCSummaryLinkID><NCORFundId><xsl:if test="fpml:swLongFormTrade//fpml:novation"><xsl:value-of select="$party[@id=$partyA]/fpml:account/fpml:accountId"/></xsl:if></NCORFundId><NCORFundName><xsl:if test="fpml:swLongFormTrade//fpml:novation"><xsl:value-of select="$party[@id=$partyA]/fpml:account/fpml:accountName"/></xsl:if></NCORFundName><NCRPFundId><xsl:if test="fpml:swLongFormTrade//fpml:novation"><xsl:value-of select="fpml:swLongFormTrade/fpml:swStructuredTradeDetails/fpml:FpML/fpml:party[@id=$partyC]/fpml:account/fpml:accountId"/></xsl:if></NCRPFundId><NCRPFundName><xsl:if test="fpml:swLongFormTrade//fpml:novation"><xsl:value-of select="fpml:swLongFormTrade/fpml:swStructuredTradeDetails/fpml:FpML/fpml:party[@id=$partyC]/fpml:account/fpml:accountName"/></xsl:if></NCRPFundName><NCEEFundId><xsl:if test="fpml:swLongFormTrade//fpml:novation"><xsl:value-of select="fpml:swLongFormTrade/fpml:swStructuredTradeDetails/fpml:FpML/fpml:party[@id=$partyB]/fpml:account/fpml:accountId"/></xsl:if></NCEEFundId><NCEEFundName><xsl:if test="fpml:swLongFormTrade//fpml:novation"><xsl:value-of select="fpml:swLongFormTrade/fpml:swStructuredTradeDetails/fpml:FpML/fpml:party[@id=$partyB]/fpml:account/fpml:accountName"/></xsl:if></NCEEFundName><NCRecoveryFactor/><NCFixedSettlement/><NCSwaptionDocsType/><NCAdditionalMatrixProvision/><NCSwaptionPublicationDate/><NCOptionDirectionA/><xsl:variable name="tiwtri" select="$tradeHeader/fpml:partyTradeIdentifier/fpml:tradeId[@tradeIdScheme='DTCCTradeId']"/><TIWDTCCTRI><xsl:value-of select="$tiwtri"/></TIWDTCCTRI><TIWActiveStatus><xsl:if test="$tiwtri">Active</xsl:if></TIWActiveStatus><TIWValueDate><xsl:value-of select="$swExtendedTradeDetails/fpml:swValueDate"/></TIWValueDate><TIWAsOfDate><xsl:value-of select="$swExtendedTradeDetails/fpml:swAsOfDate"/></TIWAsOfDate><EquityBackLoadingFlag/><MigrationReferences><MigrationReference><MigrationIDParty/><MigrationID/></MigrationReference></MigrationReferences><Rule15A-6/><HedgingParty><HedgingPartyOccurrence/></HedgingParty><DeterminingParty><DeterminingPartyOccurrence/></DeterminingParty><CalculationAgent><CalculationAgentOccurrence/></CalculationAgent><IndependentAmount2><Payer><xsl:variable name="payer"><xsl:value-of select="fpml:swShortFormTrade/fpml:swIndependentAmount/fpml:payerPartyReference/@href"/><xsl:value-of select="$trade/fpml:collateral/fpml:independentAmount/fpml:payerPartyReference/@href"/></xsl:variable><xsl:choose><xsl:when test="$payer=$partyA">A</xsl:when><xsl:when test="$payer=$partyB">B</xsl:when></xsl:choose></Payer><Currency><xsl:value-of select="fpml:swShortFormTrade/fpml:swIndependentAmount/fpml:paymentAmount/fpml:currency"/><xsl:value-of select="$trade/fpml:collateral/fpml:independentAmount/fpml:paymentDetail/fpml:paymentAmount/fpml:currency"/></Currency><Amount><xsl:value-of select="fpml:swShortFormTrade/fpml:swIndependentAmount/fpml:paymentAmount/fpml:amount"/><xsl:value-of select="$trade/fpml:collateral/fpml:independentAmount/fpml:paymentDetail/fpml:paymentAmount/fpml:amount"/></Amount><Date/><Convention/><Holidays/></IndependentAmount2><NotionalFutureValue/><NotionalSchedule/><SendForPublishing><xsl:value-of select="$swTradeHeader/fpml:swPublishingDetail/fpml:swSendForPublishing"/></SendForPublishing><SubscriberId><xsl:value-of select="$swTradeHeader/fpml:swSubscriber/fpml:partyId"/></SubscriberId><ModifiedEquityDelivery><xsl:value-of select="$generalTerms/fpml:modifiedEquityDelivery"/></ModifiedEquityDelivery><SettledEntityMatrixSource><xsl:value-of select="$indexReferenceInformation/fpml:settledEntityMatrix/fpml:matrixSource"/></SettledEntityMatrixSource><SettledEntityMatrixDate><xsl:call-template name="formatDate"><xsl:with-param name="date" select="$indexReferenceInformation/fpml:settledEntityMatrix/fpml:publicationDate"/></xsl:call-template></SettledEntityMatrixDate><AdditionalTerms><xsl:variable name="med" select="$generalTerms/fpml:additionalTerm[                                       @additionalTermScheme = 'http://derivserv.dtcc.com/coding-scheme/additional-term']"/><xsl:choose><xsl:when test="count($med) = 0"/><xsl:when test="count($med) = 1"><xsl:value-of select="$generalTerms/fpml:modifiedEquityDelivery"/></xsl:when><xsl:otherwise><xsl:for-each select="$generalTerms/fpml:modifiedEquityDelivery"><xsl:value-of select="concat(., ';')"/></xsl:for-each></xsl:otherwise></xsl:choose></AdditionalTerms><NovationInitiatedBy/><ReportingData><PriorUSI/><UPI/></ReportingData><xsl:call-template name="outputCommonReportingFields"><xsl:with-param name="reportingData" select="$reportingData"/></xsl:call-template><xsl:for-each select="$idm140299544283280-3/fpml:swBusinessConductDetails/fpml:swMidMarketPrice"><xsl:choose><xsl:when test="fpml:swUnit | fpml:swAmount | fpml:swCurrency"><MidMarketPriceType><xsl:value-of select="fpml:swUnit"/></MidMarketPriceType><MidMarketPriceValue><xsl:value-of select="fpml:swAmount"/></MidMarketPriceValue><xsl:choose><xsl:when test="fpml:swUnit='Price'"><MidMarketPriceCurrency><xsl:value-of select="fpml:swCurrency"/></MidMarketPriceCurrency></xsl:when><xsl:otherwise><IntentToBlankMidMarketCurrency>true</IntentToBlankMidMarketCurrency></xsl:otherwise></xsl:choose></xsl:when><xsl:otherwise><IntentToBlankMidMarketPrice>true</IntentToBlankMidMarketPrice></xsl:otherwise></xsl:choose></xsl:for-each><xsl:for-each select="$idm140299544287648-3/fpml:swBusinessConductDetails/fpml:swMidMarketPrice"><xsl:choose><xsl:when test="fpml:swUnit | fpml:swAmount | fpml:swCurrency"><NovationFeeMidMarketPriceType><xsl:value-of select="fpml:swUnit"/></NovationFeeMidMarketPriceType><NovationFeeMidMarketPriceValue><xsl:value-of select="fpml:swAmount"/></NovationFeeMidMarketPriceValue><xsl:choose><xsl:when test="fpml:swUnit='Price'"><NovationFeeMidMarketPriceCurrency><xsl:value-of select="fpml:swCurrency"/></NovationFeeMidMarketPriceCurrency></xsl:when><xsl:otherwise><NovationFeeIntentToBlankMidMarketCurrency>true</NovationFeeIntentToBlankMidMarketCurrency></xsl:otherwise></xsl:choose></xsl:when><xsl:otherwise><NovationFeeIntentToBlankMidMarketPrice>true</NovationFeeIntentToBlankMidMarketPrice></xsl:otherwise></xsl:choose></xsl:for-each><DFEmbeddedOptionType/><GenProdPrimaryAssetClass/><GenProdSecondaryAssetClass/><ProductId/><OptionDirectionA/><OptionPremium/><OptionPremiumCurrency/><OptionStrike/><OptionStrikeType/><FirstExerciseDate/><FloatingDayCountConvention/><DayCountConvention/><GenProdUnderlyer><UnderlyerType/><UnderlyerDescription/><UnderlyerDirectionA/><UnderlyerFixedRate/><UnderlyerIDCode/><UnderlyerIDType/><UnderlyerReferenceCurrency/><UnderlyerFXCurrency/></GenProdUnderlyer><GenProdNotional><NotionalCurrency/><NotionalUnit/><Notional/></GenProdNotional><ResetFrequency/><DayCountFraction><Schema/><Fraction><xsl:value-of select="$periodicPayment/                                         fpml:fixedAmountCalculation/                                         fpml:dayCountFraction"/></Fraction></DayCountFraction><xsl:if test="boolean($swOrderDetails)"><OrderDetails><xsl:if test="boolean($swOrderDetails/fpml:swTypeOfOrder)"><TypeOfOrder><xsl:value-of select="$swOrderDetails/fpml:swTypeOfOrder"/></TypeOfOrder></xsl:if><xsl:if test="boolean($swOrderDetails/fpml:swTotalConsideration)"><TotalConsideration><xsl:value-of select="$swOrderDetails/fpml:swTotalConsideration"/></TotalConsideration></xsl:if><xsl:if test="boolean($swOrderDetails/fpml:swRateOfExchange)"><RateOfExchange><xsl:value-of select="$swOrderDetails/fpml:swRateOfExchange"/></RateOfExchange></xsl:if><xsl:if test="boolean($swOrderDetails/fpml:swClientCounterparty)"><ClientCounterparty><xsl:value-of select="$swOrderDetails/fpml:swClientCounterparty"/></ClientCounterparty></xsl:if><xsl:if test="boolean($swOrderDetails/fpml:swTotalCommissionAndExpenses)"><TotalCommissionAndExpenses><xsl:value-of select="$swOrderDetails/fpml:swTotalCommissionAndExpenses"/></TotalCommissionAndExpenses></xsl:if><xsl:if test="boolean($swOrderDetails/fpml:swClientSettlementResponsibilities)"><ClientSettlementResponsibilities><xsl:value-of select="$swOrderDetails/fpml:swClientSettlementResponsibilities"/></ClientSettlementResponsibilities></xsl:if></OrderDetails></xsl:if><DurationType/><RateCalcType/><SecurityType/><OpenRepoRate/><OpenRepoSpread/><OpenCashAmount/><OpenDeliveryMethod/><OpenSecurityNominal/><OpenSecurityQuantity/><CloseDeliveryMethod/><CloseSecurityNominal/><CloseSecurityQuantity/><DayCountBasis/><SecurityIDType/><SecurityID/><SecurityCurrency/></SWDMLTrade></xsl:template><xsl:template match="fpml:swClearingDetails"><ClearingDetails><ClearingStatus><xsl:value-of select="fpml:swClearingStatus"/></ClearingStatus><ClearingHouseTradeID><xsl:value-of select="fpml:swClearingHouseTradeID"/></ClearingHouseTradeID><ClearingHouseUpfrontFeeSettlementDate><xsl:value-of select="fpml:swClearingHouseUpfrontFeeSettlementDate"/></ClearingHouseUpfrontFeeSettlementDate><ClearingHousePreferredISIN><xsl:value-of select="fpml:swClearingHousePreferredISIN"/></ClearingHousePreferredISIN><ClearedTimestamp><xsl:value-of select="fpml:swClearedTimestamp"/></ClearedTimestamp><ClearedUSINamespace><xsl:value-of select="fpml:swClearedUSI/fpml:swIssuer"/></ClearedUSINamespace><ClearedUSI><xsl:value-of select="fpml:swClearedUSI/fpml:swTradeId"/></ClearedUSI><ClearedUTINamespace><xsl:value-of select="fpml:swClearedUTI/fpml:swIssuer"/></ClearedUTINamespace><ClearedUTI><xsl:value-of select="fpml:swClearedUTI/fpml:swTradeId"/></ClearedUTI></ClearingDetails></xsl:template><xsl:template match="fpml:documentation"><xsl:for-each select="fpml:contractualDefinitions"><xsl:apply-templates select="."/><xsl:if test="../fpml:contractualDefinitions[last()]!=.">; </xsl:if></xsl:for-each></xsl:template><xsl:template name="months"><month num="01">Jan</month><month num="02">Feb</month><month num="03">Mar</month><month num="04">Apr</month><month num="05">May</month><month num="06">Jun</month><month num="07">Jul</month><month num="08">Aug</month><month num="09">Sep</month><month num="10">Oct</month><month num="11">Nov</month><month num="12">Dec</month></xsl:template><xsl:variable name="months" select="document('')/xsl:stylesheet/xsl:template[@name='months']/*"/><xsl:template name="formatDate"><xsl:param name="date" select="."/><xsl:if test="$date"><xsl:value-of select="concat(                       substring($date, 9, 2), '-',                       $months[@num = substring($date, 6, 2)], '-',                       substring($date, 1, 4))"/></xsl:if></xsl:template><xsl:template name="fpml:swAllocations"><xsl:apply-templates select="$swLongFormTrade//fpml:swAllocations/fpml:swAllocation"/></xsl:template><xsl:template match="fpml:swAllocation"><Allocation><xsl:variable name="directionRev"><xsl:choose><xsl:when test="@directionReversed"><xsl:value-of select="@directionReversed"/></xsl:when><xsl:otherwise><xsl:value-of select="'false'"/></xsl:otherwise></xsl:choose></xsl:variable><DirectionReversed><xsl:value-of select="$directionRev"/></DirectionReversed><xsl:choose><xsl:when test="$swLongFormTrade//fpml:swAllocations/fpml:swAllocation/fpml:payerPartyReference"><xsl:variable name="PayerRef" select="string(fpml:payerPartyReference/@href)"/><xsl:variable name="ReceiverRef" select="string(fpml:receiverPartyReference/@href)"/><xsl:variable name="PayerBIC" select="string($party[@id=$PayerRef]/fpml:partyId)"/><xsl:variable name="ReceiverBIC" select="string($party[@id=$ReceiverRef]/fpml:partyId)"/><Payer><xsl:value-of select="$PayerBIC"/></Payer><Receiver><xsl:value-of select="$ReceiverBIC"/></Receiver></xsl:when><xsl:otherwise><xsl:variable name="BuyerRef" select="string(fpml:buyerPartyReference/@href)"/><xsl:variable name="SellerRef" select="string(fpml:sellerPartyReference/@href)"/><xsl:variable name="BuyerBIC" select="string($party[@id=$BuyerRef]/fpml:partyId)"/><xsl:variable name="SellerBIC" select="string($party[@id=$SellerRef]/fpml:partyId)"/><Buyer><xsl:value-of select="$BuyerBIC"/></Buyer><Seller><xsl:value-of select="$SellerBIC"/></Seller></xsl:otherwise></xsl:choose><xsl:variable name="amount" select="string(fpml:allocatedNotional/fpml:amount)"/><Amount><xsl:value-of select="$amount"/></Amount><IAExpected><xsl:value-of select="fpml:swIAExpected"/></IAExpected><xsl:if test="fpml:swAllocationReportingDetails[count(fpml:swJurisdiction)=0 and count(fpml:swUniqueTransactionId/fpml:swIssuer)=0]/fpml:swUniqueTransactionId/fpml:swTradeId"><xsl:variable name="globalUti" select="string(fpml:swAllocationReportingDetails[count(fpml:swJurisdiction)=0 and count(fpml:swUniqueTransactionId/fpml:swIssuer)=0]/fpml:swUniqueTransactionId/fpml:swTradeId)"/><GlobalUTI><xsl:value-of select="$globalUti"/></GlobalUTI></xsl:if><xsl:if test="$swLongFormTrade//fpml:swAllocations/fpml:swAllocation/fpml:independentAmount"><xsl:apply-templates select="fpml:independentAmount"/></xsl:if><xsl:if test="$swLongFormTrade/fpml:swAllocations/fpml:swAllocation/fpml:additionalPayment"><xsl:call-template name="AllocationAdditionalPayment"/></xsl:if><xsl:if test="fpml:swPrivateTradeId"><xsl:apply-templates select="fpml:swPrivateTradeId"/></xsl:if><xsl:if test="fpml:swSalesCredit"><xsl:apply-templates select="fpml:swSalesCredit"/></xsl:if><xsl:if test="fpml:swAdditionalField"><xsl:apply-templates select="fpml:swAdditionalField"/></xsl:if><xsl:if test="$swLongFormTrade//fpml:swAllocations/fpml:swAllocation/fpml:swClearingBroker/fpml:partyId"><xsl:variable name="clearingbroker" select="string(fpml:swClearingBroker/fpml:partyId)"/><ClearingBrokerId><xsl:value-of select="$clearingbroker"/></ClearingBrokerId></xsl:if><xsl:if test="$swLongFormTrade/fpml:swAllocations/fpml:swAllocation/fpml:swNettingString"><xsl:variable name="nettingstring" select="string(fpml:swNettingString)"/><NettingString><xsl:value-of select="$nettingstring"/></NettingString></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[count(fpml:swJurisdiction)=0 or fpml:swJurisdiction='DoddFrank']/fpml:swObligatoryReporting"><ObligatoryReporting><xsl:value-of select="fpml:swAllocationReportingDetails[count(fpml:swJurisdiction)=0 or fpml:swJurisdiction='DoddFrank']/fpml:swObligatoryReporting"/></ObligatoryReporting></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[count(fpml:swJurisdiction)=0 or fpml:swJurisdiction='DoddFrank']/fpml:swReportingCounterpartyReference/@href"><xsl:variable name="rcp" select="string(fpml:swAllocationReportingDetails[count(fpml:swJurisdiction)=0 or fpml:swJurisdiction='DoddFrank']/fpml:swReportingCounterpartyReference/@href)"/><xsl:variable name="rcpBIC" select="string(/fpml:SWDML/fpml:swLongFormTrade/fpml:swStructuredTradeDetails/fpml:FpML//fpml:party[@id=$rcp]/fpml:partyId)"/><ReportingCounterparty><xsl:value-of select="$rcpBIC"/></ReportingCounterparty></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[count(fpml:swJurisdiction)=0 or fpml:swJurisdiction='DoddFrank']/fpml:swUniqueTransactionId/fpml:swIssuer"><xsl:variable name="usinamespace" select="string(fpml:swAllocationReportingDetails[count(fpml:swJurisdiction)=0 or fpml:swJurisdiction='DoddFrank']/fpml:swUniqueTransactionId/fpml:swIssuer)"/><USINamespace><xsl:value-of select="$usinamespace"/></USINamespace></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[(count(fpml:swJurisdiction)=0 or fpml:swJurisdiction='DoddFrank') and count(fpml:swUniqueTransactionId/fpml:swIssuer)=1]/fpml:swUniqueTransactionId/fpml:swTradeId"><xsl:variable name="usi" select="string(fpml:swAllocationReportingDetails[(count(fpml:swJurisdiction)=0 or fpml:swJurisdiction='DoddFrank') and count(fpml:swUniqueTransactionId/fpml:swIssuer)=1]/fpml:swUniqueTransactionId/fpml:swTradeId)"/><USI><xsl:value-of select="$usi"/></USI></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='SEC']/fpml:swObligatoryReporting"><SEObligatoryReporting><xsl:value-of select="fpml:swAllocationReportingDetails[fpml:swJurisdiction='SEC']/fpml:swObligatoryReporting"/></SEObligatoryReporting></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='SEC']/fpml:swReportingCounterpartyReference/@href"><xsl:variable name="rcp" select="string(fpml:swAllocationReportingDetails[fpml:swJurisdiction='SEC']/fpml:swReportingCounterpartyReference/@href)"/><xsl:variable name="rcpBIC" select="string(/fpml:SWDML/fpml:swLongFormTrade/fpml:swStructuredTradeDetails/fpml:FpML//fpml:party[@id=$rcp]/fpml:partyId)"/><SEReportingCounterparty><xsl:value-of select="$rcpBIC"/></SEReportingCounterparty></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='SEC']/fpml:swUniqueTransactionId/fpml:swIssuer"><xsl:variable name="seutinamespace" select="string(fpml:swAllocationReportingDetails[fpml:swJurisdiction='SEC']/fpml:swUniqueTransactionId/fpml:swIssuer)"/><SEUTINamespace><xsl:value-of select="$seutinamespace"/></SEUTINamespace></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='SEC']/fpml:swUniqueTransactionId/fpml:swTradeId"><xsl:variable name="seuti" select="string(fpml:swAllocationReportingDetails[fpml:swJurisdiction='SEC']/fpml:swUniqueTransactionId/fpml:swTradeId)"/><SEUTI><xsl:value-of select="$seuti"/></SEUTI></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='ESMA']/fpml:swUniqueTransactionId/fpml:swIssuer"><xsl:variable name="esutinamespace" select="string(fpml:swAllocationReportingDetails[fpml:swJurisdiction='ESMA']/fpml:swUniqueTransactionId/fpml:swIssuer)"/><ESMAUTINamespace><xsl:value-of select="$esutinamespace"/></ESMAUTINamespace><ESMAIntentToBlankUTINamespace><xsl:choose><xsl:when test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='ESMA']/fpml:swUniqueTransactionId/fpml:swIssuer and $esutinamespace ='' "><xsl:value-of select="'true'"/></xsl:when><xsl:otherwise><xsl:value-of select="'false'"/></xsl:otherwise></xsl:choose></ESMAIntentToBlankUTINamespace></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='ESMA']/fpml:swUniqueTransactionId/fpml:swTradeId"><xsl:variable name="esuti" select="string(fpml:swAllocationReportingDetails[fpml:swJurisdiction='ESMA']/fpml:swUniqueTransactionId/fpml:swTradeId)"/><ESMAUTI><xsl:value-of select="$esuti"/></ESMAUTI><ESMAIntentToBlankUTI><xsl:choose><xsl:when test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='ESMA']/fpml:swUniqueTransactionId/fpml:swTradeId and $esuti ='' "><xsl:value-of select="'true'"/></xsl:when><xsl:otherwise><xsl:value-of select="'false'"/></xsl:otherwise></xsl:choose></ESMAIntentToBlankUTI></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='ESMA']/fpml:swReportForCounterparty"><ESMAReportForCpty><xsl:value-of select="fpml:swAllocationReportingDetails[fpml:swJurisdiction='ESMA']/fpml:swReportForCounterparty"/></ESMAReportForCpty></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='FCA']/fpml:swUniqueTransactionId/fpml:swIssuer"><xsl:variable name="fcautinamespace" select="string(fpml:swAllocationReportingDetails[fpml:swJurisdiction='FCA']/fpml:swUniqueTransactionId/fpml:swIssuer)"/><FCAUTINamespace><xsl:value-of select="$fcautinamespace"/></FCAUTINamespace><FCAIntentToBlankUTINamespace><xsl:choose><xsl:when test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='FCA']/fpml:swUniqueTransactionId/fpml:swIssuer and $fcautinamespace ='' "><xsl:value-of select="'true'"/></xsl:when><xsl:otherwise><xsl:value-of select="'false'"/></xsl:otherwise></xsl:choose></FCAIntentToBlankUTINamespace></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='FCA']/fpml:swUniqueTransactionId/fpml:swTradeId"><xsl:variable name="fcauti" select="string(fpml:swAllocationReportingDetails[fpml:swJurisdiction='FCA']/fpml:swUniqueTransactionId/fpml:swTradeId)"/><FCAUTI><xsl:value-of select="$fcauti"/></FCAUTI><FCAIntentToBlankUTI><xsl:choose><xsl:when test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='FCA']/fpml:swUniqueTransactionId/fpml:swTradeId and $fcauti ='' "><xsl:value-of select="'true'"/></xsl:when><xsl:otherwise><xsl:value-of select="'false'"/></xsl:otherwise></xsl:choose></FCAIntentToBlankUTI></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='FCA']/fpml:swReportForCounterparty"><FCAReportForCpty><xsl:value-of select="fpml:swAllocationReportingDetails[fpml:swJurisdiction='FCA']/fpml:swReportForCounterparty"/></FCAReportForCpty></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='JFSA']/fpml:swUniqueTransactionId/fpml:swIssuer"><xsl:variable name="jfutinamespace" select="string(fpml:swAllocationReportingDetails[fpml:swJurisdiction='JFSA']/fpml:swUniqueTransactionId/fpml:swIssuer)"/><JFSAUTINamespace><xsl:value-of select="$jfutinamespace"/></JFSAUTINamespace><JFSAIntentToBlankUTINamespace><xsl:choose><xsl:when test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='JFSA']/fpml:swUniqueTransactionId/fpml:swIssuer and $jfutinamespace ='' "><xsl:value-of select="'true'"/></xsl:when><xsl:otherwise><xsl:value-of select="'false'"/></xsl:otherwise></xsl:choose></JFSAIntentToBlankUTINamespace></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='JFSA']/fpml:swUniqueTransactionId/fpml:swTradeId"><xsl:variable name="jfuti" select="string(fpml:swAllocationReportingDetails[fpml:swJurisdiction='JFSA']/fpml:swUniqueTransactionId/fpml:swTradeId)"/><JFSAUTI><xsl:value-of select="$jfuti"/></JFSAUTI><JFSAIntentToBlankUTI><xsl:choose><xsl:when test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='JFSA']/fpml:swUniqueTransactionId/fpml:swTradeId and $jfuti ='' "><xsl:value-of select="'true'"/></xsl:when><xsl:otherwise><xsl:value-of select="'false'"/></xsl:otherwise></xsl:choose></JFSAIntentToBlankUTI></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='HKMA']/fpml:swUniqueTransactionId/fpml:swIssuer"><xsl:variable name="hkutinamespace" select="string(fpml:swAllocationReportingDetails[fpml:swJurisdiction='HKMA']/fpml:swUniqueTransactionId/fpml:swIssuer)"/><HKMIUTINamespace><xsl:value-of select="$hkutinamespace"/></HKMIUTINamespace><HKMAIntentToBlankUTINamespace><xsl:choose><xsl:when test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='HKMA']/fpml:swUniqueTransactionId/fpml:swIssuer and $hkutinamespace ='' "><xsl:value-of select="'true'"/></xsl:when><xsl:otherwise><xsl:value-of select="'false'"/></xsl:otherwise></xsl:choose></HKMAIntentToBlankUTINamespace></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='HKMA']/fpml:swUniqueTransactionId/fpml:swTradeId"><xsl:variable name="hkuti" select="string(fpml:swAllocationReportingDetails[fpml:swJurisdiction='HKMA']/fpml:swUniqueTransactionId/fpml:swTradeId)"/><HKMIUTI><xsl:value-of select="$hkuti"/></HKMIUTI><HKMAIntentToBlankUTI><xsl:choose><xsl:when test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='HKMA']/fpml:swUniqueTransactionId/fpml:swTradeId and $hkuti ='' "><xsl:value-of select="'true'"/></xsl:when><xsl:otherwise><xsl:value-of select="'false'"/></xsl:otherwise></xsl:choose></HKMAIntentToBlankUTI></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='MIFID']/fpml:swObligatoryReporting"><MIObligatoryReporting><xsl:value-of select="fpml:swAllocationReportingDetails[fpml:swJurisdiction='MIFID']/fpml:swObligatoryReporting"/></MIObligatoryReporting></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='MIFID']/fpml:swReportingCounterpartyReference/@href"><xsl:variable name="rcp" select="string(fpml:swAllocationReportingDetails[fpml:swJurisdiction='MIFID']/fpml:swReportingCounterpartyReference/@href)"/><xsl:choose><xsl:when test="$rcp = 'venue' or $rcp = '#venue'"><MIReportingCounterparty><xsl:value-of select="'venue'"/></MIReportingCounterparty></xsl:when><xsl:otherwise><xsl:variable name="rcpBIC" select="string($FpML//fpml:party[@id=$rcp]/fpml:partyId)"/><MIReportingCounterparty><xsl:value-of select="$rcpBIC"/></MIReportingCounterparty></xsl:otherwise></xsl:choose></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='MIFID']/fpml:swMIFIDTransactionIdentifier"><xsl:variable name="mitid" select="string(fpml:swAllocationReportingDetails[fpml:swJurisdiction='MIFID']/fpml:swMIFIDTransactionIdentifier)"/><MITID><xsl:value-of select="$mitid"/></MITID><MIIntentToBlankTID><xsl:choose><xsl:when test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='MIFID']/fpml:swMIFIDTransactionIdentifier and $mitid ='' "><xsl:value-of select="'true'"/></xsl:when><xsl:otherwise><xsl:value-of select="'false'"/></xsl:otherwise></xsl:choose></MIIntentToBlankTID></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='MIFID']/fpml:swRegulatoryReportable"><MITransactionReportable><xsl:value-of select="fpml:swAllocationReportingDetails[fpml:swJurisdiction='MIFID']/fpml:swRegulatoryReportable"/></MITransactionReportable></xsl:if><xsl:if test="fpml:swAllocationReportingDetails[fpml:swJurisdiction='MIFID']/fpml:swTransparencyReportable"><MITransparencyReportable><xsl:value-of select="fpml:swAllocationReportingDetails[fpml:swJurisdiction='MIFID']/fpml:swTransparencyReportable"/></MITransparencyReportable></xsl:if><xsl:apply-templates select="$idm140299544287648-2/fpml:swAllocations/fpml:swAllocation/fpml:swClearingDetails"/><xsl:if test="fpml:swIdentifiers"><PartyIdentifiers><xsl:if test="fpml:swIdentifiers/fpml:swPartyIdentifiers/fpml:swCounterpartyLEI"><CounterpartyLEI><xsl:value-of select="fpml:swIdentifiers/fpml:swPartyIdentifiers/fpml:swCounterpartyLEI"/></CounterpartyLEI></xsl:if><xsl:if test="fpml:swIdentifiers/fpml:swPartyIdentifiers/fpml:swCounterpartyPLI"><CounterpartyPLI><xsl:value-of select="fpml:swIdentifiers/fpml:swPartyIdentifiers/fpml:swCounterpartyPLI"/></CounterpartyPLI></xsl:if><xsl:if test="fpml:swIdentifiers/fpml:swPartyIdentifiers/fpml:swDataMaskingFlag"><xsl:variable name="dataMaskingFlag" select="fpml:swIdentifiers/fpml:swPartyIdentifiers/fpml:swDataMaskingFlag"/><DataMaskingFlag><xsl:if test="$dataMaskingFlag/fpml:swMaskCFTC"><MaskCFTC><xsl:value-of select="$dataMaskingFlag/fpml:swMaskCFTC"/></MaskCFTC></xsl:if><xsl:if test="$dataMaskingFlag/fpml:swMaskJFSA"><MaskJFSA><xsl:value-of select="$dataMaskingFlag/fpml:swMaskJFSA"/></MaskJFSA></xsl:if><xsl:if test="$dataMaskingFlag/fpml:swMaskCanada"><MaskCanada><xsl:value-of select="$dataMaskingFlag/fpml:swMaskCanada"/></MaskCanada></xsl:if><xsl:if test="$dataMaskingFlag/fpml:swMaskHKMA"><MaskHKMA><xsl:value-of select="$dataMaskingFlag/fpml:swMaskHKMA"/></MaskHKMA></xsl:if><xsl:if test="$dataMaskingFlag/fpml:swMaskASIC"><MaskASIC><xsl:value-of select="$dataMaskingFlag/fpml:swMaskASIC"/></MaskASIC></xsl:if><xsl:if test="$dataMaskingFlag/fpml:swMaskMAS"><MaskMAS><xsl:value-of select="$dataMaskingFlag/fpml:swMaskMAS"/></MaskMAS></xsl:if></DataMaskingFlag></xsl:if></PartyIdentifiers></xsl:if><xsl:if test="fpml:swNexusReportingDetails"><xsl:variable name="nexusParentNode.rtf"><xsl:apply-templates select="fpml:swNexusReportingDetails/node()" mode="mapReportingData"/></xsl:variable><xsl:choose><xsl:when test="function-available('common:node-set')"><xsl:call-template name="AllocationNexusFields"><xsl:with-param name="nexusNode" select="common:node-set($nexusParentNode.rtf)"/></xsl:call-template></xsl:when><xsl:otherwise><xsl:call-template name="AllocationNexusFields"><xsl:with-param name="nexusNode" select="nexusParentNode.rtf"/></xsl:call-template></xsl:otherwise></xsl:choose></xsl:if><xsl:if test="fpml:swCounterpartyCorporateSector"><CounterpartyCorporateSector><xsl:value-of select="fpml:swCounterpartyCorporateSector"/></CounterpartyCorporateSector></xsl:if></Allocation></xsl:template><xsl:template match="fpml:independentAmount"><IndependentAmount><xsl:variable name="amount" select="string(fpml:paymentDetail/fpml:paymentAmount/fpml:amount)"/><Amount><xsl:value-of select="$amount"/></Amount></IndependentAmount></xsl:template><xsl:template match="fpml:swPrivateTradeId"><InternalTradeId><xsl:variable name="value" select="string(.)"/><xsl:value-of select="$value"/></InternalTradeId></xsl:template><xsl:template match="fpml:swSalesCredit"><SalesCredit><xsl:variable name="amount" select="string(.)"/><xsl:value-of select="$amount"/></SalesCredit></xsl:template><xsl:template match="fpml:swAdditionalField"><AdditionalField><xsl:variable name="name" select="string(@fieldName)"/><xsl:variable name="sequence" select="string(@sequence)"/><xsl:variable name="value" select="string(.)"/><Name><xsl:value-of select="$name"/></Name><Sequence><xsl:value-of select="$sequence"/></Sequence><Value><xsl:value-of select="$value"/></Value></AdditionalField></xsl:template><xsl:template match="fpml:additionalPayment|fpml:payment"><AdditionalPayment><PaymentDirectionA><xsl:variable name="payer" select="string(fpml:payerPartyReference/@href)"/><xsl:choose><xsl:when test="string($payer)=string($partyA)">Pay</xsl:when><xsl:otherwise>Rec</xsl:otherwise></xsl:choose></PaymentDirectionA><Reason><xsl:choose><xsl:when test="../fpml:payment">Novation</xsl:when><xsl:otherwise><xsl:value-of select="fpml:paymentType"/></xsl:otherwise></xsl:choose></Reason><Currency><xsl:value-of select="fpml:paymentAmount/fpml:currency"/></Currency><Amount><xsl:value-of select="fpml:paymentAmount/fpml:amount"/></Amount><Date><xsl:if test="fpml:paymentDate"><xsl:call-template name="formatDate"><xsl:with-param name="date" select="fpml:paymentDate/fpml:unadjustedDate"/></xsl:call-template></xsl:if></Date><Convention><xsl:value-of select="substring(fpml:paymentDate/fpml:dateAdjustments/fpml:businessDayConvention,1,4)"/></Convention><Holidays><xsl:apply-templates select="fpml:paymentDate/fpml:dateAdjustments/fpml:businessCenters"/></Holidays><LegalEntity><xsl:if test="$swLongFormTrade//fpml:novation"><xsl:choose><xsl:when test="$partyE = $partyA"><xsl:value-of select="$FpML//fpml:party[@id=$partyF]/fpml:partyId"/></xsl:when><xsl:otherwise><xsl:value-of select="$FpML//fpml:party[@id=$partyE]/fpml:partyId"/></xsl:otherwise></xsl:choose></xsl:if></LegalEntity></AdditionalPayment></xsl:template><xsl:template name="AllocationAdditionalPayment"><xsl:for-each select="fpml:additionalPayment"><AllocAdditionalPayment><AddPaySequence><xsl:value-of select="@seq"/></AddPaySequence><xsl:variable name="directionRev"><xsl:choose><xsl:when test="@directionReversed"><xsl:value-of select="'true'"/></xsl:when><xsl:otherwise><xsl:value-of select="'false'"/></xsl:otherwise></xsl:choose></xsl:variable><DirectionReversed><xsl:value-of select="$directionRev"/></DirectionReversed><xsl:variable name="amount" select="string(fpml:paymentAmount/fpml:amount)"/><Amount><xsl:value-of select="$amount"/></Amount></AllocAdditionalPayment></xsl:for-each></xsl:template><xsl:template match="fpml:businessCenters"><xsl:for-each select="fpml:businessCenter"><xsl:value-of select="."/><xsl:if test="../fpml:businessCenter[last()]!=.">; </xsl:if></xsl:for-each></xsl:template><xsl:template name="calculateTenor"><xsl:param name="startDate"/><xsl:param name="endDate"/><xsl:variable name="startDateMonth" select="string(number(substring($startDate,6,2)))"/><xsl:variable name="endDateMonth" select="string(number(substring($endDate,6,2)))"/><xsl:variable name="startDateYear" select="string(number(substring($startDate,1,4)))"/><xsl:variable name="endDateYear" select="string(number(substring($endDate,1,4)))"/><xsl:variable name="startDateDay" select="string(number(substring($startDate,9,2)))"/><xsl:variable name="endDateDay" select="string(number(substring($endDate,9,2)))"/><xsl:variable name="rollConvention" select="string($periodicPayment/fpml:rollConvention)"/><xsl:variable name="termDateMMDD" select="string(substring($generalTerms/fpml:scheduledTerminationDate/fpml:adjustableDate/fpml:unadjustedDate,6,5))"/><xsl:variable name="rollType"><xsl:choose><xsl:when test="($rollConvention='20' and ($termDateMMDD='03-20' or $termDateMMDD='06-20' or $termDateMMDD='09-20' or $termDateMMDD='12-20') and not($periodicPayment/fpml:lastRegularPaymentDate)) or not($periodicPayment)">Standard</xsl:when><xsl:otherwise>Custom</xsl:otherwise></xsl:choose></xsl:variable><xsl:variable name="tenorMultiplier"><xsl:choose><xsl:when test="$startDateDay &gt; $endDateDay"><xsl:value-of select="((($endDateYear - $startDateYear)*12) + ($endDateMonth - $startDateMonth)-1)"/></xsl:when><xsl:otherwise><xsl:value-of select="(($endDateYear - $startDateYear)*12) + ($endDateMonth - $startDateMonth)"/></xsl:otherwise></xsl:choose></xsl:variable><xsl:variable name="remainder" select="string($tenorMultiplier mod 3)"/><xsl:variable name="tenorMultiplier_RoundOff" select="string($tenorMultiplier - $remainder)"/><xsl:choose><xsl:when test="$tenorMultiplier_RoundOff &gt;= 1"><xsl:value-of select="concat($tenorMultiplier_RoundOff,'M')"/></xsl:when><xsl:otherwise>0M</xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>